2025-01-17 15:44:31.031 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-17 15:44:31.736 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-17 15:44:31.736 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-17 15:44:31.743 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-17 15:44:31.744 +03:00 [INF] Hosting environment: Development
2025-01-17 15:44:31.745 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-17 15:44:33.591 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-17 15:44:33.891 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 304.3277ms
2025-01-17 15:44:33.916 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-17 15:44:33.916 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-17 15:44:33.923 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 6.6730ms
2025-01-17 15:44:33.926 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-17 15:44:33.938 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 21.8134ms
2025-01-17 15:44:34.102 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 176.0757ms
2025-01-17 15:44:34.992 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-17 15:44:35.163 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 171.0697ms
2025-01-17 17:15:20.759 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-17 17:15:21.184 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-17 17:15:21.185 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-17 17:15:21.187 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-17 17:15:21.188 +03:00 [INF] Hosting environment: Development
2025-01-17 17:15:21.188 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-17 17:15:22.036 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-17 17:15:22.264 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 229.0044ms
2025-01-17 17:15:22.289 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-17 17:15:22.289 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-17 17:15:22.289 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-17 17:15:22.297 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 8.1757ms
2025-01-17 17:15:22.320 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 30.7500ms
2025-01-17 17:15:22.360 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 71.3230ms
2025-01-17 17:15:23.351 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-17 17:15:23.484 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 132.7254ms
2025-01-17 17:15:35.079 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 69
2025-01-17 17:15:35.091 +03:00 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: https
PathBase: 
Path: /api/users/login
Accept: */*
Connection: keep-alive
Host: localhost:7031
User-Agent: PostmanRuntime/7.43.0
Accept-Encoding: gzip, deflate, br
Cache-Control: no-cache
Content-Type: application/json
Content-Length: 69
Postman-Token: [Redacted]
2025-01-17 17:15:35.114 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-17 17:15:35.153 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-17 17:15:35.202 +03:00 [INF] RequestBody: {
  "usernameOrEmail": "sedayeler2",
  "password": "Sedayeler@1"
}
2025-01-17 17:15:36.805 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-17 17:15:37.329 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-17 17:15:37.427 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-17 17:15:37.450 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-17 17:15:37.469 +03:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2025-01-17 17:15:37.477 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 2318.6941ms
2025-01-17 17:15:37.479 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-17 17:15:37.481 +03:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoic2VkYXllbGVyMiIsIm5iZiI6MTczNzEyMzMzNywiZXhwIjoxNzM3MTM0NzM3LCJpc3MiOiJ3d3cubXlhcGkuY29tIiwiYXVkIjoid3d3LmJpbG1lbW5lLmNvbSJ9.rFWME9b3oBLsIDhnN8d0yVgIj_tdSfMmfYsdCxYsa0A","expiration":"2025-01-17T17:25:37.1792159Z","refreshToken":"BsMbJiwV/BPCkiceMtatcrChck89DcdHXB6QYhsm52o="}}
2025-01-17 17:15:37.492 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 69 - 200 - application/json;+charset=utf-8 2412.7375ms
2025-01-17 17:15:56.013 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/api/products - -
2025-01-17 17:15:56.015 +03:00 [INF] Request:
Protocol: HTTP/1.1
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Connection: keep-alive
Host: localhost:7031
User-Agent: PostmanRuntime/7.43.0
Accept-Encoding: gzip, deflate, br
Authorization: [Redacted]
Cache-Control: no-cache
Postman-Token: [Redacted]
2025-01-17 17:15:56.151 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.GetAllProduct (ECommerceAPI.API)'
2025-01-17 17:15:56.156 +03:00 [INF] Route matched with {action = "GetAllProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProduct() on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2025-01-17 17:15:56.223 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedAt", p."Description", p."Name", p."Price", p."Stock", p."UpdatedAt"
FROM products AS p
2025-01-17 17:15:56.233 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2025-01-17 17:15:56.248 +03:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2025-01-17 17:15:56.249 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.GetAllProduct (ECommerceAPI.API) in 91.1919ms
2025-01-17 17:15:56.251 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.GetAllProduct (ECommerceAPI.API)'
2025-01-17 17:15:56.251 +03:00 [INF] ResponseBody: {"products":[{"name":"Ayna","description":"abc","price":10,"stock":2,"orders":null,"id":8,"createdAt":"2024-12-02T21:59:04.972065Z","updatedAt":"0001-01-01T00:00:00"},{"name":"Ayna","description":"abc","price":10,"stock":2,"orders":null,"id":9,"createdAt":"2024-12-02T22:05:08.619633Z","updatedAt":"0001-01-01T00:00:00"},{"name":"Ayna","description":"abc","price":10,"stock":2,"orders":null,"id":10,"createdAt":"2024-12-02T22:08:32.168033Z","updatedAt":"0001-01-01T00:00:00"},{"name":"Ayna","description":"abc","price":10,"stock":2,"orders":null,"id":11,"createdAt":"2024-12-02T22:28:13.796009Z","updatedAt":"0001-01-01T00:00:00"},{"name":"string","description":"string","price":0,"stock":0,"orders":null,"id":14,"createdAt":"2024-12-03T17:41:31.749447Z","updatedAt":"0001-01-01T00:00:00"},{"name":"a","description":"b","price":0,"stock":0,"orders":null,"id":15,"createdAt":"2024-12-03T18:08:53.892968Z","updatedAt":"0001-01-01T00:00:00"},{"name":"a","description":"b","price":0,"stock":0,"orders":null,"id":16,"createdAt":"2024-12-03T18:10:23.825893Z","updatedAt":"0001-01-01T00:00:00"},{"name":"a","description":"b","price":0,"stock":0,"orders":null,"id":17,"createdAt":"2024-12-03T18:10:30.077797Z","updatedAt":"0001-01-01T00:00:00"},{"name":"string","description":"string","price":0,"stock":0,"orders":null,"id":18,"createdAt":"2024-12-06T12:47:32.498446Z","updatedAt":"0001-01-01T00:00:00"},{"name":"string","description":"string","price":0,"stock":-1,"orders":null,"id":19,"createdAt":"2024-12-06T12:48:09.317298Z","updatedAt":"0001-01-01T00:00:00"},{"name":"","description":"string","price":12,"stock":10,"orders":null,"id":20,"createdAt":"2024-12-06T12:52:31.243959Z","updatedAt":"0001-01-01T00:00:00"},{"name":"","description":"seda","price":0,"stock":0,"orders":null,"id":21,"createdAt":"2024-12-06T12:55:53.293163Z","updatedAt":"0001-01-01T00:00:00"},{"name":"string","description":"string","price":18,"stock":12,"orders":null,"id":22,"createdAt":"2024-12-06T13:20:04.42496Z","updatedAt":"0001-01-01T00:00:00"},{"name":"string","description":"string","price":2,"stock":0,"orders":null,"id":23,"createdAt":"2024-12-06T14:17:38.718572Z","updatedAt":"0001-01-01T00:00:00"},{"name":"aa","description":"s","price":1,"stock":1,"orders":null,"id":24,"createdAt":"2024-12-06T14:36:51.964424Z","updatedAt":"0001-01-01T00:00:00"},{"name":"aa","description":"s","price":1,"stock":1,"orders":null,"id":25,"createdAt":"2024-12-06T14:40:07.634618Z","updatedAt":"0001-01-01T00:00:00"},{"name":"string","description":"string","price":10,"stock":10,"orders":null,"id":26,"createdAt":"2024-12-18T12:23:02.996856Z","updatedAt":"0001-01-01T00:00:00"},{"name":"string","description":"string","price":10,"stock":0,"orders":null,"id":27,"createdAt":"2024-12-18T12:23:17.176289Z","updatedAt":"0001-01-01T00:00:00"},{"name":"string","description":"string","price":10,"stock":-1,"orders":null,"id":28,"createdAt":"2024-12-18T12:23:34.535866Z","updatedAt":"0001-01-01T00:00:00"}]}
2025-01-17 17:15:56.255 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/api/products - - - 200 - application/json;+charset=utf-8 242.2958ms
2025-01-17 17:17:12.041 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-17 17:17:12.303 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-17 17:17:12.304 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-17 17:17:12.305 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-17 17:17:12.306 +03:00 [INF] Hosting environment: Development
2025-01-17 17:17:12.306 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-17 17:17:13.167 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-17 17:17:13.391 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 225.8532ms
2025-01-17 17:17:13.409 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-17 17:17:13.409 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-17 17:17:13.409 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-17 17:17:13.416 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 6.7764ms
2025-01-17 17:17:13.434 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 24.5987ms
2025-01-17 17:17:13.461 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 51.5736ms
2025-01-17 17:17:14.397 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-17 17:17:14.513 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 115.9738ms
2025-01-17 17:17:39.092 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 69
2025-01-17 17:17:39.099 +03:00 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: https
PathBase: 
Path: /api/users/login
Accept: */*
Connection: keep-alive
Host: localhost:7031
User-Agent: PostmanRuntime/7.43.0
Accept-Encoding: gzip, deflate, br
Cache-Control: no-cache
Content-Type: application/json
Content-Length: 69
Postman-Token: [Redacted]
2025-01-17 17:17:39.116 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-17 17:17:39.145 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-17 17:17:39.180 +03:00 [INF] RequestBody: {
  "usernameOrEmail": "sedayeler2",
  "password": "Sedayeler@1"
}
2025-01-17 17:17:40.525 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-17 17:17:40.885 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-17 17:17:40.970 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-17 17:17:40.993 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-17 17:17:41.006 +03:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2025-01-17 17:17:41.014 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 1861.8187ms
2025-01-17 17:17:41.016 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-17 17:17:41.018 +03:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoic2VkYXllbGVyMiIsIm5iZiI6MTczNzEyMzQ2MCwiZXhwIjoxNzM3MTM0ODYwLCJpc3MiOiJ3d3cubXlhcGkuY29tIiwiYXVkIjoid3d3LmJpbG1lbW5lLmNvbSJ9.pzanMd108n3nR90IoXsBVc_r7g5WsanCkgsixm9y_3g","expiration":"2025-01-17T17:27:40.7405453Z","refreshToken":"B6Q6E3MrANGd786+62baoh87AXTCASIh7CoO+ie2ntA="}}
2025-01-17 17:17:41.029 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 69 - 200 - application/json;+charset=utf-8 1936.8786ms
2025-01-17 17:17:48.726 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/api/products - -
2025-01-17 17:17:48.728 +03:00 [INF] Request:
Protocol: HTTP/1.1
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Connection: keep-alive
Host: localhost:7031
User-Agent: PostmanRuntime/7.43.0
Accept-Encoding: gzip, deflate, br
Authorization: [Redacted]
Cache-Control: no-cache
Postman-Token: [Redacted]
2025-01-17 17:17:48.806 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.GetAllProduct (ECommerceAPI.API)'
2025-01-17 17:17:48.811 +03:00 [INF] Route matched with {action = "GetAllProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProduct() on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2025-01-17 17:17:48.871 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedAt", p."Description", p."Name", p."Price", p."Stock", p."UpdatedAt"
FROM products AS p
2025-01-17 17:17:48.884 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2025-01-17 17:17:48.898 +03:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2025-01-17 17:17:48.899 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.GetAllProduct (ECommerceAPI.API) in 85.6993ms
2025-01-17 17:17:48.900 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.GetAllProduct (ECommerceAPI.API)'
2025-01-17 17:17:48.901 +03:00 [INF] ResponseBody: {"products":[{"name":"Ayna","description":"abc","price":10,"stock":2,"orders":null,"id":8,"createdAt":"2024-12-02T21:59:04.972065Z","updatedAt":"0001-01-01T00:00:00"},{"name":"Ayna","description":"abc","price":10,"stock":2,"orders":null,"id":9,"createdAt":"2024-12-02T22:05:08.619633Z","updatedAt":"0001-01-01T00:00:00"},{"name":"Ayna","description":"abc","price":10,"stock":2,"orders":null,"id":10,"createdAt":"2024-12-02T22:08:32.168033Z","updatedAt":"0001-01-01T00:00:00"},{"name":"Ayna","description":"abc","price":10,"stock":2,"orders":null,"id":11,"createdAt":"2024-12-02T22:28:13.796009Z","updatedAt":"0001-01-01T00:00:00"},{"name":"string","description":"string","price":0,"stock":0,"orders":null,"id":14,"createdAt":"2024-12-03T17:41:31.749447Z","updatedAt":"0001-01-01T00:00:00"},{"name":"a","description":"b","price":0,"stock":0,"orders":null,"id":15,"createdAt":"2024-12-03T18:08:53.892968Z","updatedAt":"0001-01-01T00:00:00"},{"name":"a","description":"b","price":0,"stock":0,"orders":null,"id":16,"createdAt":"2024-12-03T18:10:23.825893Z","updatedAt":"0001-01-01T00:00:00"},{"name":"a","description":"b","price":0,"stock":0,"orders":null,"id":17,"createdAt":"2024-12-03T18:10:30.077797Z","updatedAt":"0001-01-01T00:00:00"},{"name":"string","description":"string","price":0,"stock":0,"orders":null,"id":18,"createdAt":"2024-12-06T12:47:32.498446Z","updatedAt":"0001-01-01T00:00:00"},{"name":"string","description":"string","price":0,"stock":-1,"orders":null,"id":19,"createdAt":"2024-12-06T12:48:09.317298Z","updatedAt":"0001-01-01T00:00:00"},{"name":"","description":"string","price":12,"stock":10,"orders":null,"id":20,"createdAt":"2024-12-06T12:52:31.243959Z","updatedAt":"0001-01-01T00:00:00"},{"name":"","description":"seda","price":0,"stock":0,"orders":null,"id":21,"createdAt":"2024-12-06T12:55:53.293163Z","updatedAt":"0001-01-01T00:00:00"},{"name":"string","description":"string","price":18,"stock":12,"orders":null,"id":22,"createdAt":"2024-12-06T13:20:04.42496Z","updatedAt":"0001-01-01T00:00:00"},{"name":"string","description":"string","price":2,"stock":0,"orders":null,"id":23,"createdAt":"2024-12-06T14:17:38.718572Z","updatedAt":"0001-01-01T00:00:00"},{"name":"aa","description":"s","price":1,"stock":1,"orders":null,"id":24,"createdAt":"2024-12-06T14:36:51.964424Z","updatedAt":"0001-01-01T00:00:00"},{"name":"aa","description":"s","price":1,"stock":1,"orders":null,"id":25,"createdAt":"2024-12-06T14:40:07.634618Z","updatedAt":"0001-01-01T00:00:00"},{"name":"string","description":"string","price":10,"stock":10,"orders":null,"id":26,"createdAt":"2024-12-18T12:23:02.996856Z","updatedAt":"0001-01-01T00:00:00"},{"name":"string","description":"string","price":10,"stock":0,"orders":null,"id":27,"createdAt":"2024-12-18T12:23:17.176289Z","updatedAt":"0001-01-01T00:00:00"},{"name":"string","description":"string","price":10,"stock":-1,"orders":null,"id":28,"createdAt":"2024-12-18T12:23:34.535866Z","updatedAt":"0001-01-01T00:00:00"}]}
2025-01-17 17:17:48.907 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/api/products - - - 200 - application/json;+charset=utf-8 180.5841ms
2025-01-17 17:19:55.517 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-17 17:19:55.932 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-17 17:19:55.933 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-17 17:19:55.935 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-17 17:19:55.936 +03:00 [INF] Hosting environment: Development
2025-01-17 17:19:55.937 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-17 17:19:56.409 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-17 17:19:56.632 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 222.7139ms
2025-01-17 17:19:56.665 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-17 17:19:56.665 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-17 17:19:56.665 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-17 17:19:56.674 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 8.6762ms
2025-01-17 17:19:56.691 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 26.6371ms
2025-01-17 17:19:56.732 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 66.4382ms
2025-01-17 17:19:57.893 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-17 17:19:58.141 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 248.4272ms
2025-01-17 17:20:01.036 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 69
2025-01-17 17:20:01.049 +03:00 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: https
PathBase: 
Path: /api/users/login
Accept: */*
Connection: keep-alive
Host: localhost:7031
User-Agent: PostmanRuntime/7.43.0
Accept-Encoding: gzip, deflate, br
Cache-Control: no-cache
Content-Type: application/json
Content-Length: 69
Postman-Token: [Redacted]
2025-01-17 17:20:01.070 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-17 17:20:01.104 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-17 17:20:01.144 +03:00 [INF] RequestBody: {
  "usernameOrEmail": "sedayeler2",
  "password": "Sedayeler@1"
}
2025-01-17 17:20:02.569 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-17 17:20:02.961 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-17 17:20:03.104 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-17 17:20:03.121 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-17 17:20:03.135 +03:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2025-01-17 17:20:03.142 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 2032.3784ms
2025-01-17 17:20:03.144 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-17 17:20:03.146 +03:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoic2VkYXllbGVyMiIsIm5iZiI6MTczNzEyMzYwMiwiZXhwIjoxNzM3MTM1MDAyLCJpc3MiOiJ3d3cubXlhcGkuY29tIiwiYXVkIjoid3d3LmJpbG1lbW5lLmNvbSJ9.3EjJeErbGla8l7jauTxIaKd01MGCLwN7DB1nCr-H-7A","expiration":"2025-01-17T17:30:02.8163391Z","refreshToken":"xJ1H07n8QRsv0ebaWwoDHq8GSA77/rppX+/V8t0M1Pg="}}
2025-01-17 17:20:03.156 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 69 - 200 - application/json;+charset=utf-8 2120.2504ms
2025-01-17 17:20:11.693 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/api/products - -
2025-01-17 17:20:11.695 +03:00 [INF] Request:
Protocol: HTTP/1.1
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Connection: keep-alive
Host: localhost:7031
User-Agent: PostmanRuntime/7.43.0
Accept-Encoding: gzip, deflate, br
Authorization: [Redacted]
Cache-Control: no-cache
Postman-Token: [Redacted]
2025-01-17 17:20:11.766 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.GetAllProduct (ECommerceAPI.API)'
2025-01-17 17:20:11.770 +03:00 [INF] Route matched with {action = "GetAllProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProduct() on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2025-01-17 17:20:11.846 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedAt", p."Description", p."Name", p."Price", p."Stock", p."UpdatedAt"
FROM products AS p
2025-01-17 17:20:11.860 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2025-01-17 17:20:11.883 +03:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2025-01-17 17:20:11.886 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.GetAllProduct (ECommerceAPI.API) in 114.1144ms
2025-01-17 17:20:11.887 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.GetAllProduct (ECommerceAPI.API)'
2025-01-17 17:20:11.888 +03:00 [INF] ResponseBody: {"products":[{"name":"Ayna","description":"abc","price":10,"stock":2,"orders":null,"id":8,"createdAt":"2024-12-02T21:59:04.972065Z","updatedAt":"0001-01-01T00:00:00"},{"name":"Ayna","description":"abc","price":10,"stock":2,"orders":null,"id":9,"createdAt":"2024-12-02T22:05:08.619633Z","updatedAt":"0001-01-01T00:00:00"},{"name":"Ayna","description":"abc","price":10,"stock":2,"orders":null,"id":10,"createdAt":"2024-12-02T22:08:32.168033Z","updatedAt":"0001-01-01T00:00:00"},{"name":"Ayna","description":"abc","price":10,"stock":2,"orders":null,"id":11,"createdAt":"2024-12-02T22:28:13.796009Z","updatedAt":"0001-01-01T00:00:00"},{"name":"string","description":"string","price":0,"stock":0,"orders":null,"id":14,"createdAt":"2024-12-03T17:41:31.749447Z","updatedAt":"0001-01-01T00:00:00"},{"name":"a","description":"b","price":0,"stock":0,"orders":null,"id":15,"createdAt":"2024-12-03T18:08:53.892968Z","updatedAt":"0001-01-01T00:00:00"},{"name":"a","description":"b","price":0,"stock":0,"orders":null,"id":16,"createdAt":"2024-12-03T18:10:23.825893Z","updatedAt":"0001-01-01T00:00:00"},{"name":"a","description":"b","price":0,"stock":0,"orders":null,"id":17,"createdAt":"2024-12-03T18:10:30.077797Z","updatedAt":"0001-01-01T00:00:00"},{"name":"string","description":"string","price":0,"stock":0,"orders":null,"id":18,"createdAt":"2024-12-06T12:47:32.498446Z","updatedAt":"0001-01-01T00:00:00"},{"name":"string","description":"string","price":0,"stock":-1,"orders":null,"id":19,"createdAt":"2024-12-06T12:48:09.317298Z","updatedAt":"0001-01-01T00:00:00"},{"name":"","description":"string","price":12,"stock":10,"orders":null,"id":20,"createdAt":"2024-12-06T12:52:31.243959Z","updatedAt":"0001-01-01T00:00:00"},{"name":"","description":"seda","price":0,"stock":0,"orders":null,"id":21,"createdAt":"2024-12-06T12:55:53.293163Z","updatedAt":"0001-01-01T00:00:00"},{"name":"string","description":"string","price":18,"stock":12,"orders":null,"id":22,"createdAt":"2024-12-06T13:20:04.42496Z","updatedAt":"0001-01-01T00:00:00"},{"name":"string","description":"string","price":2,"stock":0,"orders":null,"id":23,"createdAt":"2024-12-06T14:17:38.718572Z","updatedAt":"0001-01-01T00:00:00"},{"name":"aa","description":"s","price":1,"stock":1,"orders":null,"id":24,"createdAt":"2024-12-06T14:36:51.964424Z","updatedAt":"0001-01-01T00:00:00"},{"name":"aa","description":"s","price":1,"stock":1,"orders":null,"id":25,"createdAt":"2024-12-06T14:40:07.634618Z","updatedAt":"0001-01-01T00:00:00"},{"name":"string","description":"string","price":10,"stock":10,"orders":null,"id":26,"createdAt":"2024-12-18T12:23:02.996856Z","updatedAt":"0001-01-01T00:00:00"},{"name":"string","description":"string","price":10,"stock":0,"orders":null,"id":27,"createdAt":"2024-12-18T12:23:17.176289Z","updatedAt":"0001-01-01T00:00:00"},{"name":"string","description":"string","price":10,"stock":-1,"orders":null,"id":28,"createdAt":"2024-12-18T12:23:34.535866Z","updatedAt":"0001-01-01T00:00:00"}]}
2025-01-17 17:20:11.896 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/api/products - - - 200 - application/json;+charset=utf-8 202.9753ms
2025-01-17 17:45:06.779 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-17 17:45:07.095 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-17 17:45:07.095 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-17 17:45:07.096 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-17 17:45:07.097 +03:00 [INF] Hosting environment: Development
2025-01-17 17:45:07.097 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-17 17:45:08.275 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-17 17:45:08.525 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 574.1005ms
2025-01-17 17:45:08.544 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-17 17:45:08.544 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-17 17:45:08.544 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-17 17:45:08.551 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 6.8651ms
2025-01-17 17:45:08.578 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 33.4313ms
2025-01-17 17:45:08.603 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 58.7784ms
2025-01-17 17:45:09.558 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-17 17:45:09.686 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 127.7378ms
2025-01-17 17:45:53.253 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-17 17:45:53.545 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-17 17:45:53.546 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-17 17:45:53.547 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-17 17:45:53.548 +03:00 [INF] Hosting environment: Development
2025-01-17 17:45:53.549 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-17 17:45:53.999 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-17 17:45:54.206 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 209.5886ms
2025-01-17 17:45:54.223 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-17 17:45:54.223 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-17 17:45:54.223 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-17 17:45:54.228 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 4.2000ms
2025-01-17 17:45:54.250 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 26.3738ms
2025-01-17 17:45:54.277 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 53.9575ms
2025-01-17 17:45:55.377 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-17 17:45:55.531 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 153.4247ms
2025-01-17 17:45:58.754 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 69
2025-01-17 17:45:58.765 +03:00 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: https
PathBase: 
Path: /api/users/login
Accept: */*
Connection: keep-alive
Host: localhost:7031
User-Agent: PostmanRuntime/7.43.0
Accept-Encoding: gzip, deflate, br
Cache-Control: no-cache
Content-Type: application/json
Content-Length: 69
Postman-Token: [Redacted]
2025-01-17 17:45:58.790 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-17 17:45:58.825 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-17 17:45:58.863 +03:00 [INF] RequestBody: {
  "usernameOrEmail": "sedayeler2",
  "password": "Sedayeler@1"
}
2025-01-17 17:46:00.119 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-17 17:46:00.496 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-17 17:46:00.597 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-17 17:46:00.623 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-17 17:46:00.637 +03:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2025-01-17 17:46:00.645 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 1814.9909ms
2025-01-17 17:46:00.647 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-17 17:46:00.649 +03:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoic2VkYXllbGVyMiIsIm5iZiI6MTczNzEyNTE2MCwiZXhwIjoxNzM3MTM2NTYwLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjcyMzEiLCJhdWQiOiJodHRwOi8vbG9jYWxob3N0OjcyMzEifQ.NU1vh8nLizhcxYu8XYl-JxDWKRV7l-e1X6wrZKTF4cI","expiration":"2025-01-17T17:56:00.3523421Z","refreshToken":"sAJZruvB1R6CmtaMCuDLRvmUV5nUxERYHkoqfKTApeQ="}}
2025-01-17 17:46:00.658 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 69 - 200 - application/json;+charset=utf-8 1904.3403ms
2025-01-17 17:51:00.135 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-17 17:51:00.430 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-17 17:51:00.431 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-17 17:51:00.433 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-17 17:51:00.434 +03:00 [INF] Hosting environment: Development
2025-01-17 17:51:00.435 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-17 17:51:01.122 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-17 17:51:01.316 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 196.9551ms
2025-01-17 17:51:01.331 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-17 17:51:01.331 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-17 17:51:01.331 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-17 17:51:01.337 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 5.3667ms
2025-01-17 17:51:01.353 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 21.1919ms
2025-01-17 17:51:01.379 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 47.3837ms
2025-01-17 17:51:02.683 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-17 17:51:02.834 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 151.7844ms
2025-01-17 17:51:03.415 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 69
2025-01-17 17:51:03.442 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-17 17:51:03.476 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-17 17:51:05.071 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-17 17:51:05.505 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-17 17:51:05.657 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-17 17:51:05.685 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-17 17:51:05.707 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 2226.8175ms
2025-01-17 17:51:05.709 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-17 17:51:05.720 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 69 - 200 - application/json;+charset=utf-8 2304.3135ms
2025-01-17 17:51:28.169 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 69
2025-01-17 17:51:28.176 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-17 17:51:28.178 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-17 17:51:28.246 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-17 17:51:28.311 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-17 17:51:28.317 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-17 17:51:28.321 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-17 17:51:28.323 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 142.0292ms
2025-01-17 17:51:28.324 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-17 17:51:28.325 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 69 - 200 - application/json;+charset=utf-8 156.3284ms
2025-01-17 17:52:01.612 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/api/products - -
2025-01-17 17:52:01.699 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.GetAllProduct (ECommerceAPI.API)'
2025-01-17 17:52:01.704 +03:00 [INF] Route matched with {action = "GetAllProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProduct() on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2025-01-17 17:52:01.735 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedAt", p."Description", p."Name", p."Price", p."Stock", p."UpdatedAt"
FROM products AS p
2025-01-17 17:52:01.745 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2025-01-17 17:52:01.762 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.GetAllProduct (ECommerceAPI.API) in 56.6598ms
2025-01-17 17:52:01.763 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.GetAllProduct (ECommerceAPI.API)'
2025-01-17 17:52:01.765 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/api/products - - - 200 - application/json;+charset=utf-8 152.1969ms
2025-01-17 17:52:37.655 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-17 17:52:37.993 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-17 17:52:37.995 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-17 17:52:37.997 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-17 17:52:37.998 +03:00 [INF] Hosting environment: Development
2025-01-17 17:52:37.998 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-17 17:52:38.360 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-17 17:52:38.611 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 254.8326ms
2025-01-17 17:52:38.632 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-17 17:52:38.632 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-17 17:52:38.632 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-17 17:52:38.637 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 5.0330ms
2025-01-17 17:52:38.650 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 17.8865ms
2025-01-17 17:52:38.674 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.0741ms
2025-01-17 17:52:39.785 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-17 17:52:39.917 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 132.1150ms
2025-01-17 17:52:41.677 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 69
2025-01-17 17:52:41.695 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-17 17:52:41.713 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-17 17:52:42.875 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-17 17:52:43.182 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-17 17:52:43.265 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-17 17:52:43.286 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-17 17:52:43.302 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 1583.7165ms
2025-01-17 17:52:43.304 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-17 17:52:43.313 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 69 - 200 - application/json;+charset=utf-8 1636.5441ms
2025-01-17 17:52:51.320 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/api/products - -
2025-01-17 17:52:51.390 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.GetAllProduct (ECommerceAPI.API)'
2025-01-17 17:52:51.394 +03:00 [INF] Route matched with {action = "GetAllProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProduct() on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2025-01-17 17:52:51.465 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedAt", p."Description", p."Name", p."Price", p."Stock", p."UpdatedAt"
FROM products AS p
2025-01-17 17:52:51.476 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2025-01-17 17:52:51.490 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.GetAllProduct (ECommerceAPI.API) in 93.333ms
2025-01-17 17:52:51.492 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.GetAllProduct (ECommerceAPI.API)'
2025-01-17 17:52:51.494 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/api/products - - - 200 - application/json;+charset=utf-8 173.9685ms
2025-01-17 19:47:27.246 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-17 19:47:27.660 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-17 19:47:27.661 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-17 19:47:27.668 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-17 19:47:27.669 +03:00 [INF] Hosting environment: Development
2025-01-17 19:47:27.670 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-17 19:47:28.997 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger - -
2025-01-17 19:47:29.246 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger - - - 301 0 - 254.7336ms
2025-01-17 19:47:29.253 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-17 19:47:29.341 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 87.5404ms
2025-01-17 19:47:29.353 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/swagger-ui.css - -
2025-01-17 19:47:29.357 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/swagger-ui-bundle.js - -
2025-01-17 19:47:29.357 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.css - -
2025-01-17 19:47:29.374 +03:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-01-17 19:47:29.376 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.css - - - 200 202 text/css 18.6697ms
2025-01-17 19:47:29.387 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/swagger-ui-standalone-preset.js - -
2025-01-17 19:47:29.410 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-01-17 19:47:29.410 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-01-17 19:47:29.414 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/swagger-ui.css - - - 200 152034 text/css 60.8625ms
2025-01-17 19:47:29.414 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/swagger-ui-standalone-preset.js - - - 200 230293 text/javascript 27.1299ms
2025-01-17 19:47:29.423 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-17 19:47:29.427 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-17 19:47:29.440 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 5.1309ms
2025-01-17 19:47:29.442 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-17 19:47:29.596 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 169.1121ms
2025-01-17 19:47:29.620 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-01-17 19:47:29.622 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/swagger-ui-bundle.js - - - 200 1452753 text/javascript 264.4717ms
2025-01-17 19:47:29.676 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 234.4047ms
2025-01-17 19:47:31.059 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-17 19:47:31.218 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 159.5689ms
2025-01-17 19:47:57.093 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 70
2025-01-17 19:47:57.116 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-17 19:47:57.146 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-17 19:47:58.937 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-17 19:47:58.968 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-01-17 19:47:59.191 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 2039.1761ms
2025-01-17 19:47:59.194 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-17 19:47:59.273 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Username or password is incorrect.
   at ECommerceAPI.Persistence.Services.AuthService.LoginAsync(String UsernameOrEmail, String Password, Int32 accessTokenLifetime) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Infrastructure\ECommerceAPI.Persistence\Services\AuthService.cs:line 41
   at ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\User\LoginUser\LoginUserCommandHandler.cs:line 20
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerceAPI.API.Controllers.UsersController.LoginUser(LoginUserCommandRequest request) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\UsersController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 108
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-01-17 19:47:59.351 +03:00 [ERR] Username or password is incorrect.
2025-01-17 19:47:59.367 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 70 - 500 - application/json 2274.7153ms
2025-01-17 19:51:41.609 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-17 19:51:42.031 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-17 19:51:42.032 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-17 19:51:42.033 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-17 19:51:42.034 +03:00 [INF] Hosting environment: Development
2025-01-17 19:51:42.034 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-17 19:51:42.795 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-17 19:51:42.998 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 207.1896ms
2025-01-17 19:51:43.019 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-17 19:51:43.019 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-17 19:51:43.019 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-17 19:51:43.026 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 7.2350ms
2025-01-17 19:51:43.047 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 28.2040ms
2025-01-17 19:51:43.071 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 51.5337ms
2025-01-17 19:51:44.308 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-17 19:51:44.506 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 197.4179ms
2025-01-17 19:51:44.806 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 69
2025-01-17 19:51:44.828 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-17 19:51:44.860 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-17 19:51:46.258 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-17 19:51:46.650 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-17 19:51:46.746 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-17 19:51:46.765 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-17 19:51:46.783 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 1918.9018ms
2025-01-17 19:51:46.785 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-17 19:51:46.795 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 69 - 200 - application/json;+charset=utf-8 1988.7863ms
2025-01-17 19:52:09.408 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/refreshTokenLogin?=xr76+Zh6bJ/EEpPK5hSuRals5VH0eF2IzvDF5GZ68K4= - 0
2025-01-17 19:52:09.412 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.RefreshTokenLoginUser (ECommerceAPI.API)'
2025-01-17 19:52:09.419 +03:00 [INF] Route matched with {action = "RefreshTokenLoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLoginUser(ECommerceAPI.Application.Features.Commands.User.RefreshToken.RefreshTokenRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-17 19:52:09.435 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-17 19:52:09.443 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.RefreshTokenLoginUser (ECommerceAPI.API) in 21.6842ms
2025-01-17 19:52:09.444 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.RefreshTokenLoginUser (ECommerceAPI.API)'
2025-01-17 19:52:09.445 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/refreshTokenLogin?=xr76+Zh6bJ/EEpPK5hSuRals5VH0eF2IzvDF5GZ68K4= - 0 - 400 - application/json;+charset=utf-8 36.8792ms
2025-01-17 19:52:39.879 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-17 19:52:40.138 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-17 19:52:40.139 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-17 19:52:40.140 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-17 19:52:40.141 +03:00 [INF] Hosting environment: Development
2025-01-17 19:52:40.141 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-17 19:52:40.902 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-17 19:52:41.076 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 174.4920ms
2025-01-17 19:52:41.094 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-17 19:52:41.094 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-17 19:52:41.094 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-17 19:52:41.104 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 9.5647ms
2025-01-17 19:52:41.121 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 25.8924ms
2025-01-17 19:52:58.765 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/refreshTokenLogin?=xr76+Zh6bJ/EEpPK5hSuRals5VH0eF2IzvDF5GZ68K4= multipart/form-data;+boundary=--------------------------298018548228462740269061 199
2025-01-17 19:52:58.783 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.RefreshTokenLoginUser (ECommerceAPI.API)'
2025-01-17 19:52:58.804 +03:00 [INF] Route matched with {action = "RefreshTokenLoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLoginUser(ECommerceAPI.Application.Features.Commands.User.RefreshToken.RefreshTokenRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-17 19:52:58.872 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-17 19:52:58.902 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.RefreshTokenLoginUser (ECommerceAPI.API) in 91.0349ms
2025-01-17 19:52:58.905 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.RefreshTokenLoginUser (ECommerceAPI.API)'
2025-01-17 19:52:58.908 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/refreshTokenLogin?=xr76+Zh6bJ/EEpPK5hSuRals5VH0eF2IzvDF5GZ68K4= multipart/form-data;+boundary=--------------------------298018548228462740269061 199 - 400 - application/json;+charset=utf-8 142.5750ms
2025-01-17 19:54:20.090 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-17 19:54:20.392 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-17 19:54:20.393 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-17 19:54:20.395 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-17 19:54:20.395 +03:00 [INF] Hosting environment: Development
2025-01-17 19:54:20.396 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-17 19:54:20.733 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-17 19:54:20.897 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 165.1217ms
2025-01-17 19:54:20.916 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-17 19:54:20.916 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-17 19:54:20.916 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-17 19:54:20.922 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 5.8243ms
2025-01-17 19:54:20.940 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 23.8822ms
2025-01-17 19:54:20.965 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 49.6580ms
2025-01-17 19:54:21.856 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-17 19:54:22.025 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 168.4954ms
2025-01-17 19:54:33.041 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/api/products - -
2025-01-17 19:54:33.232 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-01-17 19:54:33.272 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
2025-01-17 19:54:33.277 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-17 19:54:33.284 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-01-17 19:54:33.294 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/api/products - - - 401 0 - 252.9066ms
2025-01-17 19:54:46.304 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 70
2025-01-17 19:54:46.309 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-17 19:54:46.329 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-17 19:54:47.559 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-17 19:54:47.585 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-01-17 19:54:47.713 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 1377.8013ms
2025-01-17 19:54:47.717 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-17 19:54:47.826 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Username or password is incorrect.
   at ECommerceAPI.Persistence.Services.AuthService.LoginAsync(String UsernameOrEmail, String Password, Int32 accessTokenLifetime) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Infrastructure\ECommerceAPI.Persistence\Services\AuthService.cs:line 41
   at ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\User\LoginUser\LoginUserCommandHandler.cs:line 20
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerceAPI.API.Controllers.UsersController.LoginUser(LoginUserCommandRequest request) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\UsersController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 108
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-01-17 19:54:47.856 +03:00 [ERR] Username or password is incorrect.
2025-01-17 19:54:47.875 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 70 - 500 - application/json 1570.9458ms
2025-01-18 19:19:01.285 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-18 19:19:01.776 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-18 19:19:01.777 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-18 19:19:01.779 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-18 19:19:01.779 +03:00 [INF] Hosting environment: Development
2025-01-18 19:19:01.780 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-18 19:19:03.109 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-18 19:19:03.399 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 291.7462ms
2025-01-18 19:19:03.441 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-18 19:19:03.441 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-18 19:19:03.463 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-18 19:19:03.469 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 24.7813ms
2025-01-18 19:19:03.489 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 48.2644ms
2025-01-18 19:19:03.578 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 120.7666ms
2025-01-18 19:19:04.655 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-18 19:19:04.799 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 143.3526ms
2025-01-18 19:19:55.658 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/products application/json 88
2025-01-18 19:19:55.677 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 19:19:55.708 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ECommerceAPI.Application.Features.Commands.Product.CreateProduct.CreateProductCommandRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2025-01-18 19:19:57.251 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO products ("CreatedAt", "Description", "Name", "Price", "Stock", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-01-18 19:19:57.291 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-01-18 19:19:57.296 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API) in 1583.0079ms
2025-01-18 19:19:57.299 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 19:19:57.309 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/products application/json 88 - 200 0 - 1650.6214ms
2025-01-18 19:20:25.383 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/api/products-hub - -
2025-01-18 19:20:25.388 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/api/products-hub - - - 404 0 - 5.1131ms
2025-01-18 19:28:45.809 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/products-hub - -
2025-01-18 19:28:45.824 +03:00 [INF] Executing endpoint '/products-hub'
2025-01-18 19:29:06.791 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/products application/json 95
2025-01-18 19:29:06.792 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 19:29:06.795 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ECommerceAPI.Application.Features.Commands.Product.CreateProduct.CreateProductCommandRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2025-01-18 19:29:06.918 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO products ("CreatedAt", "Description", "Name", "Price", "Stock", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-01-18 19:29:06.922 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-01-18 19:29:06.922 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API) in 126.175ms
2025-01-18 19:29:06.924 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 19:29:06.925 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/products application/json 95 - 200 0 - 134.7614ms
2025-01-18 19:31:17.948 +03:00 [INF] Executed endpoint '/products-hub'
2025-01-18 19:31:17.950 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/products-hub - - - 101 - - 152141.7142ms
2025-01-18 19:31:21.737 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/products-hub - -
2025-01-18 19:31:21.738 +03:00 [INF] Executing endpoint '/products-hub'
2025-01-18 19:31:30.084 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/products application/json 95
2025-01-18 19:31:30.085 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 19:31:30.086 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ECommerceAPI.Application.Features.Commands.Product.CreateProduct.CreateProductCommandRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2025-01-18 19:31:30.104 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO products ("CreatedAt", "Description", "Name", "Price", "Stock", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-01-18 19:31:30.107 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-01-18 19:31:30.107 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API) in 19.8236ms
2025-01-18 19:31:30.108 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 19:31:30.109 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/products application/json 95 - 200 0 - 25.0536ms
2025-01-18 19:34:29.585 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-18 19:34:30.429 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-18 19:34:30.430 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-18 19:34:30.432 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-18 19:34:30.433 +03:00 [INF] Hosting environment: Development
2025-01-18 19:34:30.433 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-18 19:34:30.999 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-18 19:34:31.256 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 259.0196ms
2025-01-18 19:34:31.280 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-18 19:34:31.280 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-18 19:34:31.280 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-18 19:34:31.291 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 10.5907ms
2025-01-18 19:34:31.305 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 24.2346ms
2025-01-18 19:34:31.330 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 49.8316ms
2025-01-18 19:34:32.462 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-18 19:34:32.623 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 161.2568ms
2025-01-18 19:34:35.956 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/products-hub - -
2025-01-18 19:34:35.989 +03:00 [INF] Executing endpoint '/products-hub'
2025-01-18 19:34:41.851 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/products application/json 95
2025-01-18 19:34:41.854 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 19:34:41.883 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ECommerceAPI.Application.Features.Commands.Product.CreateProduct.CreateProductCommandRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2025-01-18 19:34:43.156 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO products ("CreatedAt", "Description", "Name", "Price", "Stock", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-01-18 19:34:43.195 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-01-18 19:34:43.201 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API) in 1311.0059ms
2025-01-18 19:34:43.204 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 19:34:43.212 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/products application/json 95 - 200 0 - 1361.2340ms
2025-01-18 19:35:53.898 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-18 19:35:54.250 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-18 19:35:54.250 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-18 19:35:54.252 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-18 19:35:54.253 +03:00 [INF] Hosting environment: Development
2025-01-18 19:35:54.253 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-18 19:35:55.166 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-18 19:35:55.410 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 248.0660ms
2025-01-18 19:35:55.430 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-18 19:35:55.430 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-18 19:35:55.430 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-18 19:35:55.438 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 8.0153ms
2025-01-18 19:35:55.456 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 25.7884ms
2025-01-18 19:35:55.490 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 59.7515ms
2025-01-18 19:35:56.614 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-18 19:35:56.800 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 186.0349ms
2025-01-18 19:36:04.245 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/products-hub - -
2025-01-18 19:36:04.262 +03:00 [INF] Executing endpoint '/products-hub'
2025-01-18 19:36:09.471 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/products application/json 95
2025-01-18 19:36:09.475 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 19:36:09.504 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ECommerceAPI.Application.Features.Commands.Product.CreateProduct.CreateProductCommandRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2025-01-18 19:36:10.793 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO products ("CreatedAt", "Description", "Name", "Price", "Stock", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-01-18 19:36:10.827 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-01-18 19:36:10.832 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API) in 1322.7117ms
2025-01-18 19:36:10.834 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 19:36:10.843 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/products application/json 95 - 200 0 - 1371.7060ms
2025-01-18 19:37:49.563 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-18 19:37:49.912 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-18 19:37:49.913 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-18 19:37:49.915 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-18 19:37:49.916 +03:00 [INF] Hosting environment: Development
2025-01-18 19:37:49.917 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-18 19:37:50.796 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-18 19:37:51.032 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 238.5261ms
2025-01-18 19:37:51.052 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-18 19:37:51.052 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-18 19:37:51.052 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-18 19:37:51.062 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 9.6039ms
2025-01-18 19:37:51.074 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 21.7740ms
2025-01-18 19:37:51.114 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 62.2436ms
2025-01-18 19:37:53.783 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-18 19:37:53.978 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 194.4080ms
2025-01-18 19:37:58.454 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/products-hub - -
2025-01-18 19:37:58.467 +03:00 [INF] Executing endpoint '/products-hub'
2025-01-18 19:38:01.580 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/products application/json 95
2025-01-18 19:38:01.582 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 19:38:01.601 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ECommerceAPI.Application.Features.Commands.Product.CreateProduct.CreateProductCommandRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2025-01-18 19:38:02.742 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO products ("CreatedAt", "Description", "Name", "Price", "Stock", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-01-18 19:38:02.785 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-01-18 19:38:02.790 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API) in 1184.4219ms
2025-01-18 19:38:02.793 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 19:38:02.802 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/products application/json 95 - 200 0 - 1222.1477ms
2025-01-18 20:10:37.540 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-18 20:10:37.890 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-18 20:10:37.890 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-18 20:10:37.892 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-18 20:10:37.892 +03:00 [INF] Hosting environment: Development
2025-01-18 20:10:37.893 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-18 20:10:38.588 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-18 20:10:38.801 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 216.7602ms
2025-01-18 20:10:38.817 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-18 20:10:38.817 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-18 20:10:38.817 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-18 20:10:38.825 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 7.5769ms
2025-01-18 20:10:38.876 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 59.0477ms
2025-01-18 20:10:38.905 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 87.4503ms
2025-01-18 20:10:40.040 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-18 20:10:40.180 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 140.8917ms
2025-01-18 20:10:48.730 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/products-hub - -
2025-01-18 20:10:48.748 +03:00 [INF] Executing endpoint '/products-hub'
2025-01-18 20:11:16.198 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/products application/json 84
2025-01-18 20:11:16.202 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 20:11:16.237 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ECommerceAPI.Application.Features.Commands.Product.CreateProduct.CreateProductCommandRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2025-01-18 20:11:17.519 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO products ("CreatedAt", "Description", "Name", "Price", "Stock", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-01-18 20:11:17.561 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-01-18 20:11:17.566 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API) in 1324.0057ms
2025-01-18 20:11:17.569 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 20:11:17.577 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/products application/json 84 - 200 0 - 1379.4642ms
2025-01-18 20:20:06.500 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-18 20:20:06.818 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-18 20:20:06.819 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-18 20:20:06.821 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-18 20:20:06.821 +03:00 [INF] Hosting environment: Development
2025-01-18 20:20:06.822 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-18 20:20:07.301 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-18 20:20:07.513 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 216.9283ms
2025-01-18 20:20:07.538 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-18 20:20:07.538 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-18 20:20:07.538 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-18 20:20:07.547 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 10.0245ms
2025-01-18 20:20:07.565 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 27.6206ms
2025-01-18 20:20:07.597 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 58.7029ms
2025-01-18 20:20:08.796 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-18 20:20:09.005 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 208.8913ms
2025-01-18 20:20:17.072 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/products-hub - -
2025-01-18 20:20:17.089 +03:00 [INF] Executing endpoint '/products-hub'
2025-01-18 20:20:20.510 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/products application/json 84
2025-01-18 20:20:20.512 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 20:20:20.532 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ECommerceAPI.Application.Features.Commands.Product.CreateProduct.CreateProductCommandRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2025-01-18 20:20:21.834 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO products ("CreatedAt", "Description", "Name", "Price", "Stock", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-01-18 20:20:21.873 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-01-18 20:20:21.877 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API) in 1339.7472ms
2025-01-18 20:20:21.879 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 20:20:21.888 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/products application/json 84 - 200 0 - 1378.7592ms
2025-01-18 20:22:41.570 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-18 20:22:41.907 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-18 20:22:41.908 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-18 20:22:41.910 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-18 20:22:41.911 +03:00 [INF] Hosting environment: Development
2025-01-18 20:22:41.912 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-18 20:22:42.603 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-18 20:22:42.803 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 201.3859ms
2025-01-18 20:22:42.818 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-18 20:22:42.818 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-18 20:22:42.818 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-18 20:22:42.827 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 8.7744ms
2025-01-18 20:22:42.844 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 26.1061ms
2025-01-18 20:22:42.875 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 57.0656ms
2025-01-18 20:22:44.113 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-18 20:22:44.256 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 143.9340ms
2025-01-18 20:22:46.638 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/products application/json 84
2025-01-18 20:22:46.660 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 20:22:46.682 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ECommerceAPI.Application.Features.Commands.Product.CreateProduct.CreateProductCommandRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2025-01-18 20:22:48.018 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO products ("CreatedAt", "Description", "Name", "Price", "Stock", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-01-18 20:22:48.062 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-01-18 20:22:48.067 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API) in 1379.8871ms
2025-01-18 20:22:48.070 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 20:22:48.083 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/products application/json 84 - 200 0 - 1445.3275ms
2025-01-18 20:27:11.993 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-18 20:27:12.285 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-18 20:27:12.286 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-18 20:27:12.288 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-18 20:27:12.289 +03:00 [INF] Hosting environment: Development
2025-01-18 20:27:12.290 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-18 20:27:12.988 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-18 20:27:13.212 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 226.2189ms
2025-01-18 20:27:13.229 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-18 20:27:13.229 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-18 20:27:13.229 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-18 20:27:13.236 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 6.7325ms
2025-01-18 20:27:13.288 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 59.1122ms
2025-01-18 20:27:13.313 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 83.9003ms
2025-01-18 20:27:14.196 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-18 20:27:14.382 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 185.6412ms
2025-01-18 20:27:50.847 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/products-hub - -
2025-01-18 20:27:50.865 +03:00 [INF] Executing endpoint '/products-hub'
2025-01-18 20:28:37.317 +03:00 [INF] Executed endpoint '/products-hub'
2025-01-18 20:28:37.321 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/products-hub - - - 101 - - 46474.5092ms
2025-01-18 20:31:04.995 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-18 20:31:05.353 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-18 20:31:05.354 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-18 20:31:05.355 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-18 20:31:05.356 +03:00 [INF] Hosting environment: Development
2025-01-18 20:31:05.356 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-18 20:31:06.146 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-18 20:31:06.437 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 295.9824ms
2025-01-18 20:31:06.462 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-18 20:31:06.462 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-18 20:31:06.462 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-18 20:31:06.470 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 8.4323ms
2025-01-18 20:31:06.497 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 35.6308ms
2025-01-18 20:31:06.536 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 75.0129ms
2025-01-18 20:31:08.123 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-18 20:31:08.279 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 156.0576ms
2025-01-18 20:31:12.764 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/products application/json 84
2025-01-18 20:31:12.786 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 20:31:12.826 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ECommerceAPI.Application.Features.Commands.Product.CreateProduct.CreateProductCommandRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2025-01-18 20:31:14.668 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO products ("CreatedAt", "Description", "Name", "Price", "Stock", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-01-18 20:31:14.729 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-01-18 20:31:14.737 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API) in 1903.5792ms
2025-01-18 20:31:14.742 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 20:31:14.757 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/products application/json 84 - 200 0 - 1992.4717ms
2025-01-18 20:33:47.357 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-18 20:33:47.713 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-18 20:33:47.714 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-18 20:33:47.716 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-18 20:33:47.717 +03:00 [INF] Hosting environment: Development
2025-01-18 20:33:47.717 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-18 20:33:48.479 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-18 20:33:48.972 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 500.5152ms
2025-01-18 20:33:49.004 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-18 20:33:49.004 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-18 20:33:49.004 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-18 20:33:49.012 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 7.9054ms
2025-01-18 20:33:49.038 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 34.1805ms
2025-01-18 20:33:49.091 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 87.2264ms
2025-01-18 20:33:51.089 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-18 20:33:51.191 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/products application/json 84
2025-01-18 20:33:51.231 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 20:33:51.283 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ECommerceAPI.Application.Features.Commands.Product.CreateProduct.CreateProductCommandRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2025-01-18 20:33:51.368 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 279.5196ms
2025-01-18 20:33:53.409 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO products ("CreatedAt", "Description", "Name", "Price", "Stock", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-01-18 20:33:53.472 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-01-18 20:33:53.477 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API) in 2187.3803ms
2025-01-18 20:33:53.479 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 20:33:53.492 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/products application/json 84 - 200 0 - 2301.4153ms
2025-01-18 20:33:58.693 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/products-hub - -
2025-01-18 20:33:58.697 +03:00 [INF] Executing endpoint '/products-hub'
2025-01-18 20:42:10.524 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-18 20:42:10.865 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-18 20:42:10.867 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-18 20:42:10.869 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-18 20:42:10.870 +03:00 [INF] Hosting environment: Development
2025-01-18 20:42:10.871 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-18 20:42:11.927 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-18 20:42:12.185 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 259.7369ms
2025-01-18 20:42:12.215 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-18 20:42:12.215 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-18 20:42:12.215 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-18 20:42:12.224 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 8.3397ms
2025-01-18 20:42:12.247 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 31.0824ms
2025-01-18 20:42:12.280 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 64.1174ms
2025-01-18 20:42:13.810 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-18 20:42:13.996 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 185.9115ms
2025-01-18 20:42:18.963 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/products-hub - -
2025-01-18 20:42:18.993 +03:00 [INF] Executing endpoint '/products-hub'
2025-01-18 20:42:30.288 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/products application/json 84
2025-01-18 20:42:30.292 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 20:42:30.330 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ECommerceAPI.Application.Features.Commands.Product.CreateProduct.CreateProductCommandRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2025-01-18 20:42:32.192 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO products ("CreatedAt", "Description", "Name", "Price", "Stock", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-01-18 20:42:32.265 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-01-18 20:42:32.272 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API) in 1932.7315ms
2025-01-18 20:42:32.276 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 20:42:32.289 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/products application/json 84 - 200 0 - 2001.2975ms
2025-01-18 20:44:12.372 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-18 20:44:12.723 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-18 20:44:12.724 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-18 20:44:12.726 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-18 20:44:12.727 +03:00 [INF] Hosting environment: Development
2025-01-18 20:44:12.728 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-18 20:44:13.561 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-18 20:44:13.821 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 261.6752ms
2025-01-18 20:44:13.842 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-18 20:44:13.842 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-18 20:44:13.842 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-18 20:44:13.855 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 12.1879ms
2025-01-18 20:44:13.875 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 32.2564ms
2025-01-18 20:44:13.907 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 65.0105ms
2025-01-18 20:44:15.337 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-18 20:44:15.501 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 163.8724ms
2025-01-18 20:44:18.412 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/products-hub - -
2025-01-18 20:44:18.438 +03:00 [INF] Executing endpoint '/products-hub'
2025-01-18 20:44:23.944 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/products application/json 84
2025-01-18 20:44:23.950 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 20:44:23.989 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ECommerceAPI.Application.Features.Commands.Product.CreateProduct.CreateProductCommandRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2025-01-18 20:44:25.831 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO products ("CreatedAt", "Description", "Name", "Price", "Stock", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-01-18 20:44:25.887 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-01-18 20:44:25.893 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API) in 1894.7192ms
2025-01-18 20:44:25.896 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-18 20:44:25.908 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/products application/json 84 - 200 0 - 1963.9101ms
2025-01-18 21:19:50.710 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2025-01-18 21:19:50.830 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2025-01-18 21:19:50.854 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-01-18 21:19:50.874 +03:00 [INF] Applying migration '20250118181940_mig_7'.
2025-01-18 21:19:51.059 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ADD "BasketId" integer NOT NULL DEFAULT 0;
2025-01-18 21:19:51.088 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE baskets (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" integer NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_baskets" PRIMARY KEY ("Id")
);
2025-01-18 21:19:51.102 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE basket_items (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "BasketId" integer NOT NULL,
    "ProductId" integer NOT NULL,
    "Quantity" integer NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_basket_items" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_basket_items_baskets_BasketId" FOREIGN KEY ("BasketId") REFERENCES baskets ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_basket_items_products_ProductId" FOREIGN KEY ("ProductId") REFERENCES products ("Id") ON DELETE CASCADE
);
2025-01-18 21:19:51.124 +03:00 [ERR] Failed executing DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_AspNetUsers_BasketId" ON "AspNetUsers" ("BasketId");
2025-01-18 21:56:49.568 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2025-01-18 21:56:49.755 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2025-01-18 21:56:49.768 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-01-18 21:56:49.782 +03:00 [INF] Applying migration '20250118181940_mig_7'.
2025-01-18 21:56:49.868 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ADD "BasketId" integer NOT NULL DEFAULT 0;
2025-01-18 21:56:49.881 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE baskets (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" integer NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_baskets" PRIMARY KEY ("Id")
);
2025-01-18 21:56:49.888 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE basket_items (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "BasketId" integer NOT NULL,
    "ProductId" integer NOT NULL,
    "Quantity" integer NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_basket_items" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_basket_items_baskets_BasketId" FOREIGN KEY ("BasketId") REFERENCES baskets ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_basket_items_products_ProductId" FOREIGN KEY ("ProductId") REFERENCES products ("Id") ON DELETE CASCADE
);
2025-01-18 21:56:49.905 +03:00 [ERR] Failed executing DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_AspNetUsers_BasketId" ON "AspNetUsers" ("BasketId");
2025-01-18 22:05:18.452 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2025-01-18 22:05:18.530 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2025-01-18 22:05:18.543 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-01-18 22:05:18.556 +03:00 [INF] Applying migration '20250118190431_mig_7'.
2025-01-18 22:05:18.640 +03:00 [ERR] Failed executing DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" DROP CONSTRAINT "FK_AspNetUsers_baskets_BasketId";
2025-01-18 22:06:55.471 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2025-01-18 22:06:55.545 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2025-01-18 22:06:55.558 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-01-18 22:06:55.569 +03:00 [INF] Applying migration '20250118190633_mig_7'.
2025-01-18 22:06:55.634 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250118190633_mig_7', '7.0.0');
2025-01-18 22:08:00.964 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2025-01-18 22:08:01.017 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-01-18 22:08:28.795 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2025-01-18 22:08:28.886 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2025-01-18 22:08:28.898 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-01-18 22:08:28.913 +03:00 [INF] Applying migration '20250118190816_mig_7'.
2025-01-18 22:08:28.995 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ADD "BasketId" integer NOT NULL DEFAULT 0;
2025-01-18 22:08:29.012 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE baskets (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_baskets" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_baskets_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-01-18 22:08:29.018 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE basket_items (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "BasketId" integer NOT NULL,
    "ProductId" integer NOT NULL,
    "Quantity" integer NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_basket_items" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_basket_items_baskets_BasketId" FOREIGN KEY ("BasketId") REFERENCES baskets ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_basket_items_products_ProductId" FOREIGN KEY ("ProductId") REFERENCES products ("Id") ON DELETE CASCADE
);
2025-01-18 22:08:29.021 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_basket_items_BasketId" ON basket_items ("BasketId");
2025-01-18 22:08:29.023 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_basket_items_ProductId" ON basket_items ("ProductId");
2025-01-18 22:08:29.025 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_baskets_UserId" ON baskets ("UserId");
2025-01-18 22:08:29.027 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250118190816_mig_7', '7.0.0');
2025-01-19 16:20:09.719 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-19 16:20:10.152 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-19 16:20:10.153 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-19 16:20:10.154 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-19 16:20:10.155 +03:00 [INF] Hosting environment: Development
2025-01-19 16:20:10.155 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-19 16:20:11.682 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-19 16:20:12.038 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 360.7620ms
2025-01-19 16:20:12.061 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-19 16:20:12.061 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-19 16:20:12.061 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-19 16:20:12.073 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 11.3589ms
2025-01-19 16:20:12.100 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 39.0259ms
2025-01-19 16:20:12.181 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 120.0817ms
2025-01-19 16:20:13.429 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-19 16:20:13.589 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 159.7908ms
2025-01-19 16:20:41.510 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-19 16:20:41.860 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-19 16:20:41.861 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-19 16:20:41.862 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-19 16:20:41.862 +03:00 [INF] Hosting environment: Development
2025-01-19 16:20:41.863 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-19 16:20:42.370 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-19 16:20:42.572 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 203.8404ms
2025-01-19 16:20:42.602 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-19 16:20:42.602 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-19 16:20:42.602 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-19 16:20:42.611 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 9.0514ms
2025-01-19 16:20:42.870 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 268.3433ms
2025-01-19 16:20:42.915 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 312.9894ms
2025-01-19 16:20:43.948 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-19 16:20:44.170 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 221.9754ms
2025-01-19 16:40:22.910 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-19 16:40:23.418 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-19 16:40:23.419 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-19 16:40:23.421 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-19 16:40:23.421 +03:00 [INF] Hosting environment: Development
2025-01-19 16:40:23.422 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-19 16:40:24.667 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-19 16:40:24.919 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 253.5051ms
2025-01-19 16:40:24.943 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-19 16:40:24.943 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-19 16:40:24.944 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-19 16:40:24.959 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 14.7048ms
2025-01-19 16:40:24.976 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 33.2028ms
2025-01-19 16:40:25.052 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 109.1643ms
2025-01-19 16:40:26.158 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-19 16:40:26.349 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 191.2265ms
2025-01-19 16:42:17.279 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-19 16:42:17.498 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-19 16:42:17.499 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-19 16:42:17.500 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-19 16:42:17.501 +03:00 [INF] Hosting environment: Development
2025-01-19 16:42:17.502 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-19 16:42:18.278 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-19 16:42:18.502 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 225.3602ms
2025-01-19 16:42:18.517 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-19 16:42:18.517 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-19 16:42:18.517 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-19 16:42:18.524 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 6.8578ms
2025-01-19 16:42:18.540 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 22.6308ms
2025-01-19 16:42:18.566 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 48.8734ms
2025-01-19 16:42:19.647 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-19 16:42:19.774 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 127.7922ms
2025-01-19 16:44:47.669 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-19 16:44:47.880 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-19 16:44:47.881 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-19 16:44:47.883 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-19 16:44:47.884 +03:00 [INF] Hosting environment: Development
2025-01-19 16:44:47.884 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-19 16:44:48.529 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-19 16:44:48.759 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 233.4258ms
2025-01-19 16:44:48.783 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-19 16:44:48.783 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-19 16:44:48.792 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 8.1777ms
2025-01-19 16:44:48.803 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 19.9288ms
2025-01-19 16:44:48.803 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-19 16:44:48.841 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 38.3745ms
2025-01-19 16:44:49.919 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-19 16:44:50.060 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.5688ms
2025-01-19 16:45:10.107 +03:00 [WRN] The foreign key property 'Order.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-01-19 16:45:10.376 +03:00 [WRN] The foreign key property 'Order.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-01-19 16:45:33.703 +03:00 [WRN] The foreign key property 'Order.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-01-19 16:45:33.934 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2025-01-19 16:45:34.029 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-01-19 16:45:34.060 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2025-01-19 16:45:34.063 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-01-19 16:45:34.073 +03:00 [INF] Applying migration '20250119134510_mig_1'.
2025-01-19 16:45:34.157 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" text NOT NULL,
    "Name" character varying(256) NULL,
    "NormalizedName" character varying(256) NULL,
    "ConcurrencyStamp" text NULL,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);
2025-01-19 16:45:34.163 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" text NOT NULL,
    "FullName" text NOT NULL,
    "RefreshToken" text NULL,
    "RefreshTokenEndDate" timestamp with time zone NULL,
    "UserName" character varying(256) NULL,
    "NormalizedUserName" character varying(256) NULL,
    "Email" character varying(256) NULL,
    "NormalizedEmail" character varying(256) NULL,
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text NULL,
    "SecurityStamp" text NULL,
    "ConcurrencyStamp" text NULL,
    "PhoneNumber" text NULL,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone NULL,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id")
);
2025-01-19 16:45:34.176 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE products (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    "Description" text NOT NULL,
    "Price" numeric NOT NULL,
    "Stock" integer NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_products" PRIMARY KEY ("Id")
);
2025-01-19 16:45:34.185 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" text NOT NULL,
    "ClaimType" text NULL,
    "ClaimValue" text NULL,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2025-01-19 16:45:34.192 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" text NOT NULL,
    "ClaimType" text NULL,
    "ClaimValue" text NULL,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-01-19 16:45:34.197 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" text NOT NULL,
    "ProviderKey" text NOT NULL,
    "ProviderDisplayName" text NULL,
    "UserId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-01-19 16:45:34.204 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" text NOT NULL,
    "RoleId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-01-19 16:45:34.211 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" text NOT NULL,
    "LoginProvider" text NOT NULL,
    "Name" text NOT NULL,
    "Value" text NULL,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-01-19 16:45:34.444 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE baskets (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_baskets" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_baskets_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-01-19 16:45:34.452 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE orders (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "OrderNumber" text NOT NULL,
    "Address" text NOT NULL,
    "Status" text NOT NULL,
    "TotalPrice" numeric NOT NULL,
    "UserId" integer NOT NULL,
    "UserId1" text NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_orders" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_orders_AspNetUsers_UserId1" FOREIGN KEY ("UserId1") REFERENCES "AspNetUsers" ("Id")
);
2025-01-19 16:45:34.457 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE basket_items (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Quantity" integer NOT NULL,
    "BasketId" integer NOT NULL,
    "ProductId" integer NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_basket_items" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_basket_items_baskets_BasketId" FOREIGN KEY ("BasketId") REFERENCES baskets ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_basket_items_products_ProductId" FOREIGN KEY ("ProductId") REFERENCES products ("Id") ON DELETE CASCADE
);
2025-01-19 16:45:34.466 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE order_items (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Quantity" integer NOT NULL,
    "Price" numeric NOT NULL,
    "OrderId" integer NOT NULL,
    "ProductId" integer NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_order_items" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_order_items_orders_OrderId" FOREIGN KEY ("OrderId") REFERENCES orders ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_order_items_products_ProductId" FOREIGN KEY ("ProductId") REFERENCES products ("Id") ON DELETE CASCADE
);
2025-01-19 16:45:34.470 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2025-01-19 16:45:34.472 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2025-01-19 16:45:34.474 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2025-01-19 16:45:34.476 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2025-01-19 16:45:34.479 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2025-01-19 16:45:34.481 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2025-01-19 16:45:34.484 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2025-01-19 16:45:34.486 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_basket_items_BasketId" ON basket_items ("BasketId");
2025-01-19 16:45:34.488 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_basket_items_ProductId" ON basket_items ("ProductId");
2025-01-19 16:45:34.490 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_baskets_UserId" ON baskets ("UserId");
2025-01-19 16:45:37.239 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_order_items_OrderId" ON order_items ("OrderId");
2025-01-19 16:45:37.242 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_order_items_ProductId" ON order_items ("ProductId");
2025-01-19 16:45:37.244 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_orders_UserId1" ON orders ("UserId1");
2025-01-19 16:45:37.247 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250119134510_mig_1', '7.0.0');
2025-01-19 17:08:09.910 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2025-01-19 17:08:09.969 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-01-19 17:08:20.555 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2025-01-19 17:08:20.634 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2025-01-19 17:08:20.648 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-01-19 17:08:20.658 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-01-19 17:09:40.091 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2025-01-19 17:09:40.299 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-01-19 17:09:40.435 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2025-01-19 17:09:40.438 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-01-19 17:09:40.448 +03:00 [INF] Applying migration '20250119140930_mig_1'.
2025-01-19 17:09:40.532 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" text NOT NULL,
    "Name" character varying(256) NULL,
    "NormalizedName" character varying(256) NULL,
    "ConcurrencyStamp" text NULL,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);
2025-01-19 17:09:40.539 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" text NOT NULL,
    "FullName" text NOT NULL,
    "RefreshToken" text NULL,
    "RefreshTokenEndDate" timestamp with time zone NULL,
    "UserName" character varying(256) NULL,
    "NormalizedUserName" character varying(256) NULL,
    "Email" character varying(256) NULL,
    "NormalizedEmail" character varying(256) NULL,
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text NULL,
    "SecurityStamp" text NULL,
    "ConcurrencyStamp" text NULL,
    "PhoneNumber" text NULL,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone NULL,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id")
);
2025-01-19 17:09:40.547 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE products (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    "Description" text NOT NULL,
    "Price" numeric NOT NULL,
    "Stock" integer NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_products" PRIMARY KEY ("Id")
);
2025-01-19 17:09:40.556 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" text NOT NULL,
    "ClaimType" text NULL,
    "ClaimValue" text NULL,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2025-01-19 17:09:40.562 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" text NOT NULL,
    "ClaimType" text NULL,
    "ClaimValue" text NULL,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-01-19 17:09:40.567 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" text NOT NULL,
    "ProviderKey" text NOT NULL,
    "ProviderDisplayName" text NULL,
    "UserId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-01-19 17:09:40.572 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" text NOT NULL,
    "RoleId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-01-19 17:09:40.577 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" text NOT NULL,
    "LoginProvider" text NOT NULL,
    "Name" text NOT NULL,
    "Value" text NULL,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-01-19 17:09:40.855 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE baskets (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_baskets" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_baskets_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-01-19 17:09:40.861 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE orders (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "OrderNumber" text NOT NULL,
    "Address" text NOT NULL,
    "Status" text NOT NULL,
    "TotalPrice" numeric NOT NULL,
    "UserId" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_orders" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_orders_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-01-19 17:09:40.866 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE basket_items (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Quantity" integer NOT NULL,
    "BasketId" integer NOT NULL,
    "ProductId" integer NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_basket_items" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_basket_items_baskets_BasketId" FOREIGN KEY ("BasketId") REFERENCES baskets ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_basket_items_products_ProductId" FOREIGN KEY ("ProductId") REFERENCES products ("Id") ON DELETE CASCADE
);
2025-01-19 17:09:40.874 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE order_items (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Quantity" integer NOT NULL,
    "Price" numeric NOT NULL,
    "OrderId" integer NOT NULL,
    "ProductId" integer NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_order_items" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_order_items_orders_OrderId" FOREIGN KEY ("OrderId") REFERENCES orders ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_order_items_products_ProductId" FOREIGN KEY ("ProductId") REFERENCES products ("Id") ON DELETE CASCADE
);
2025-01-19 17:09:40.879 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2025-01-19 17:09:40.882 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2025-01-19 17:09:40.885 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2025-01-19 17:09:40.887 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2025-01-19 17:09:40.889 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2025-01-19 17:09:40.892 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2025-01-19 17:09:40.894 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2025-01-19 17:09:40.897 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_basket_items_BasketId" ON basket_items ("BasketId");
2025-01-19 17:09:40.900 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_basket_items_ProductId" ON basket_items ("ProductId");
2025-01-19 17:09:40.903 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_baskets_UserId" ON baskets ("UserId");
2025-01-19 17:09:43.687 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_order_items_OrderId" ON order_items ("OrderId");
2025-01-19 17:09:43.690 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_order_items_ProductId" ON order_items ("ProductId");
2025-01-19 17:09:43.693 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_orders_UserId" ON orders ("UserId");
2025-01-19 17:09:43.696 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250119140930_mig_1', '7.0.0');
2025-01-20 18:19:23.001 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-20 18:19:23.368 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-20 18:19:23.369 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-20 18:19:23.371 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-20 18:19:23.372 +03:00 [INF] Hosting environment: Development
2025-01-20 18:19:23.372 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-20 18:19:24.718 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-20 18:19:24.986 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 271.3008ms
2025-01-20 18:19:25.064 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-20 18:19:25.064 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-20 18:19:25.064 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-20 18:19:25.071 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 7.8186ms
2025-01-20 18:19:25.107 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 43.4730ms
2025-01-20 18:19:25.204 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 140.4028ms
2025-01-20 20:07:57.429 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-20 20:07:58.020 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-20 20:07:58.021 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-20 20:07:58.022 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-20 20:07:58.023 +03:00 [INF] Hosting environment: Development
2025-01-20 20:07:58.023 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-20 20:07:58.902 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-20 20:07:59.181 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 282.4005ms
2025-01-20 20:07:59.238 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-20 20:07:59.239 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-20 20:07:59.240 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-20 20:07:59.245 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 6.8576ms
2025-01-20 20:07:59.271 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 31.5319ms
2025-01-20 20:07:59.309 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 68.7738ms
2025-01-20 20:08:00.597 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-20 20:08:00.733 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 136.5744ms
2025-01-20 21:29:19.436 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-20 21:29:19.771 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-20 21:29:19.772 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-20 21:29:19.774 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-20 21:29:19.774 +03:00 [INF] Hosting environment: Development
2025-01-20 21:29:19.775 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-20 21:29:20.959 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-20 21:29:21.287 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 330.4437ms
2025-01-20 21:29:21.316 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-20 21:29:21.316 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-20 21:29:21.316 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-20 21:29:21.325 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 9.1071ms
2025-01-20 21:29:21.341 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 25.2886ms
2025-01-20 21:29:21.391 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 75.3889ms
2025-01-20 21:29:22.518 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-20 21:29:22.700 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 181.5455ms
2025-01-20 21:31:23.457 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/products application/json 84
2025-01-20 21:31:23.473 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-20 21:31:23.508 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ECommerceAPI.Application.Features.Commands.Product.CreateProduct.CreateProductCommandRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2025-01-20 21:31:24.895 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO products ("CreatedAt", "Description", "Name", "Price", "Stock", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-01-20 21:31:24.933 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-01-20 21:31:24.937 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API) in 1425.9729ms
2025-01-20 21:31:24.940 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-20 21:31:24.949 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/products application/json 84 - 200 0 - 1491.7794ms
2025-01-20 21:31:59.608 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/register application/json 125
2025-01-20 21:31:59.611 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.CreateUser (ECommerceAPI.API)'
2025-01-20 21:31:59.616 +03:00 [INF] Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(ECommerceAPI.Application.Features.Commands.User.CreateUser.CreateUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-20 21:31:59.960 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-20 21:32:00.046 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?' (DbType = Boolean), @p17='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FullName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenEndDate", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-01-20 21:32:00.055 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.CreateUser.CreateUserCommandResponse'.
2025-01-20 21:32:00.063 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.CreateUser (ECommerceAPI.API) in 444.8104ms
2025-01-20 21:32:00.065 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.CreateUser (ECommerceAPI.API)'
2025-01-20 21:32:00.066 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/register application/json 125 - 200 - application/json;+charset=utf-8 457.8542ms
2025-01-20 21:32:13.339 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68
2025-01-20 21:32:13.343 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-20 21:32:13.346 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-20 21:32:13.372 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-20 21:32:13.605 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-20 21:32:13.627 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-20 21:32:13.632 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-20 21:32:13.641 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 291.9625ms
2025-01-20 21:32:13.642 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-20 21:32:13.644 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68 - 200 - application/json;+charset=utf-8 304.4671ms
2025-01-20 21:33:00.808 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/api/baskets - -
2025-01-20 21:33:00.830 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-20 21:33:00.836 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-01-20 21:33:00.838 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/api/baskets - - - 401 0 - 30.1429ms
2025-01-20 21:33:11.495 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/api/baskets - -
2025-01-20 21:33:11.545 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.BasketsController.GetBasketItems (ECommerceAPI.API)'
2025-01-20 21:33:11.550 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerceAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerceAPI.API.Controllers.BasketsController (ECommerceAPI.API).
2025-01-20 21:33:11.559 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-01-20 21:33:11.560 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.BasketsController.GetBasketItems (ECommerceAPI.API) in 8.4838ms
2025-01-20 21:33:11.562 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.BasketsController.GetBasketItems (ECommerceAPI.API)'
2025-01-20 21:33:11.563 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/api/baskets - - - 415 - application/problem+json;+charset=utf-8 68.0352ms
2025-01-20 21:34:40.257 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/baskets application/json 40
2025-01-20 21:34:40.262 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.BasketsController.AddItemToBasket (ECommerceAPI.API)'
2025-01-20 21:34:40.266 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerceAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerceAPI.API.Controllers.BasketsController (ECommerceAPI.API).
2025-01-20 21:34:40.503 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", b."Id", b."CreatedAt", b."UpdatedAt", b."UserId"
FROM "AspNetUsers" AS a
LEFT JOIN baskets AS b ON a."Id" = b."UserId"
WHERE a."UserName" = @__username_0
LIMIT 1
2025-01-20 21:34:40.546 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO baskets ("CreatedAt", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-01-20 21:34:40.561 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Int32), @__request_ProductId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedAt", b."ProductId", b."Quantity", b."UpdatedAt"
FROM basket_items AS b
WHERE b."BasketId" = @__basket_Id_0 AND b."ProductId" = @__request_ProductId_1
LIMIT 1
2025-01-20 21:34:40.590 +03:00 [ERR] Failed executing DbCommand (15ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO basket_items ("Id", "BasketId", "CreatedAt", "ProductId", "Quantity", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-01-20 21:34:40.640 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ECommerceAPI.Persistence.Contexts.ECommerceAPIDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "basket_items" violates foreign key constraint "FK_basket_items_baskets_BasketId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|222_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "basket_items" violates foreign key constraint "FK_basket_items_baskets_BasketId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: basket_items
    ConstraintName: FK_basket_items_baskets_BasketId
    File: ri_triggers.c
    Line: 2619
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "basket_items" violates foreign key constraint "FK_basket_items_baskets_BasketId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|222_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "basket_items" violates foreign key constraint "FK_basket_items_baskets_BasketId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: basket_items
    ConstraintName: FK_basket_items_baskets_BasketId
    File: ri_triggers.c
    Line: 2619
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-01-20 21:34:40.904 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.BasketsController.AddItemToBasket (ECommerceAPI.API) in 636.4956ms
2025-01-20 21:34:40.906 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.BasketsController.AddItemToBasket (ECommerceAPI.API)'
2025-01-20 21:34:40.991 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "basket_items" violates foreign key constraint "FK_basket_items_baskets_BasketId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|222_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "basket_items" violates foreign key constraint "FK_basket_items_baskets_BasketId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: basket_items
    ConstraintName: FK_basket_items_baskets_BasketId
    File: ri_triggers.c
    Line: 2619
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ECommerceAPI.Persistence.Repositories.WriteRepository`1.SaveAsync() in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Infrastructure\ECommerceAPI.Persistence\Repositories\WriteRepository.cs:line 62
   at ECommerceAPI.Persistence.Services.BasketService.AddItemToBasketAsync(CreateBasketItemRequest request) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Infrastructure\ECommerceAPI.Persistence\Services\BasketService.cs:line 91
   at ECommerceAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandHandler.Handle(AddItemToBasketCommandRequest request, CancellationToken cancellationToken) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Basket\AddItemToBasket\AddItemToBasketCommandHandler.cs:line 22
   at ECommerceAPI.API.Controllers.BasketsController.AddItemToBasket(AddItemToBasketCommandRequest request) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\BasketsController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 111
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-01-20 21:34:41.054 +03:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2025-01-20 21:34:41.060 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/baskets application/json 40 - 500 - application/json 802.2906ms
2025-01-20 21:35:12.595 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/baskets application/json 40
2025-01-20 21:35:12.596 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.BasketsController.AddItemToBasket (ECommerceAPI.API)'
2025-01-20 21:35:12.597 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerceAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerceAPI.API.Controllers.BasketsController (ECommerceAPI.API).
2025-01-20 21:35:29.893 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", b."Id", b."CreatedAt", b."UpdatedAt", b."UserId"
FROM "AspNetUsers" AS a
LEFT JOIN baskets AS b ON a."Id" = b."UserId"
WHERE a."UserName" = @__username_0
LIMIT 1
2025-01-20 21:35:39.027 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__basket_Id_0='?' (DbType = Int32), @__request_ProductId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedAt", b."ProductId", b."Quantity", b."UpdatedAt"
FROM basket_items AS b
WHERE b."BasketId" = @__basket_Id_0 AND b."ProductId" = @__request_ProductId_1
LIMIT 1
2025-01-20 21:36:01.338 +03:00 [ERR] Failed executing DbCommand (35ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO basket_items ("Id", "BasketId", "CreatedAt", "ProductId", "Quantity", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-01-20 21:36:01.344 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ECommerceAPI.Persistence.Contexts.ECommerceAPIDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "basket_items" violates foreign key constraint "FK_basket_items_baskets_BasketId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|222_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "basket_items" violates foreign key constraint "FK_basket_items_baskets_BasketId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: basket_items
    ConstraintName: FK_basket_items_baskets_BasketId
    File: ri_triggers.c
    Line: 2619
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "basket_items" violates foreign key constraint "FK_basket_items_baskets_BasketId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|222_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "basket_items" violates foreign key constraint "FK_basket_items_baskets_BasketId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: basket_items
    ConstraintName: FK_basket_items_baskets_BasketId
    File: ri_triggers.c
    Line: 2619
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-01-20 21:36:01.583 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.BasketsController.AddItemToBasket (ECommerceAPI.API) in 48975.5708ms
2025-01-20 21:36:01.584 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.BasketsController.AddItemToBasket (ECommerceAPI.API)'
2025-01-20 21:36:01.653 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "basket_items" violates foreign key constraint "FK_basket_items_baskets_BasketId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|222_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "basket_items" violates foreign key constraint "FK_basket_items_baskets_BasketId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: basket_items
    ConstraintName: FK_basket_items_baskets_BasketId
    File: ri_triggers.c
    Line: 2619
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ECommerceAPI.Persistence.Repositories.WriteRepository`1.SaveAsync()
   at ECommerceAPI.Persistence.Services.BasketService.AddItemToBasketAsync(CreateBasketItemRequest request)
   at ECommerceAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandHandler.Handle(AddItemToBasketCommandRequest request, CancellationToken cancellationToken) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Basket\AddItemToBasket\AddItemToBasketCommandHandler.cs:line 22
   at ECommerceAPI.API.Controllers.BasketsController.AddItemToBasket(AddItemToBasketCommandRequest request) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\BasketsController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 111
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-01-20 21:36:01.679 +03:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2025-01-20 21:36:01.680 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/baskets application/json 40 - 500 - application/json 49076.2775ms
2025-01-20 21:37:05.048 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-20 21:37:05.248 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-20 21:37:05.249 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-20 21:37:05.250 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-20 21:37:05.250 +03:00 [INF] Hosting environment: Development
2025-01-20 21:37:05.251 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-20 21:37:06.063 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-20 21:37:06.288 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 228.1433ms
2025-01-20 21:37:06.306 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-20 21:37:06.306 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-20 21:37:06.306 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-20 21:37:06.314 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 7.7624ms
2025-01-20 21:37:06.340 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 33.5109ms
2025-01-20 21:37:06.361 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 55.1466ms
2025-01-20 21:37:07.378 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-20 21:37:07.507 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 128.4848ms
2025-01-20 21:37:17.185 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68
2025-01-20 21:37:17.202 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-20 21:37:17.235 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-20 21:37:18.411 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-20 21:37:18.801 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-20 21:37:18.930 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-20 21:37:18.947 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-20 21:37:18.968 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 1728.8381ms
2025-01-20 21:37:18.971 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-20 21:37:18.982 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68 - 200 - application/json;+charset=utf-8 1796.0644ms
2025-01-20 21:37:35.152 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/baskets application/json 40
2025-01-20 21:37:35.217 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.BasketsController.AddItemToBasket (ECommerceAPI.API)'
2025-01-20 21:37:35.223 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerceAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerceAPI.API.Controllers.BasketsController (ECommerceAPI.API).
2025-01-20 21:37:47.341 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-20 21:37:47.538 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-20 21:37:47.539 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-20 21:37:47.540 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-20 21:37:47.541 +03:00 [INF] Hosting environment: Development
2025-01-20 21:37:47.542 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-20 21:37:48.138 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-20 21:37:48.318 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 181.4648ms
2025-01-20 21:37:48.343 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-20 21:37:48.343 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-20 21:37:48.343 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-20 21:37:48.350 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 6.8848ms
2025-01-20 21:37:48.373 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 29.9358ms
2025-01-20 21:37:48.395 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 51.3830ms
2025-01-20 21:37:49.340 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-20 21:37:49.461 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 121.0206ms
2025-01-20 21:37:55.127 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68
2025-01-20 21:37:55.141 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-20 21:37:55.163 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-20 21:37:56.151 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-20 21:37:56.474 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-20 21:37:56.556 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-20 21:37:56.575 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-20 21:37:56.592 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 1425.0306ms
2025-01-20 21:37:56.595 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-20 21:37:56.604 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68 - 200 - application/json;+charset=utf-8 1476.2426ms
2025-01-20 21:38:08.470 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/baskets application/json 40
2025-01-20 21:38:08.534 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.BasketsController.AddItemToBasket (ECommerceAPI.API)'
2025-01-20 21:38:08.538 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerceAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerceAPI.API.Controllers.BasketsController (ECommerceAPI.API).
2025-01-20 21:38:08.660 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", b."Id", b."CreatedAt", b."UpdatedAt", b."UserId"
FROM "AspNetUsers" AS a
LEFT JOIN baskets AS b ON a."Id" = b."UserId"
WHERE a."UserName" = @__username_0
LIMIT 1
2025-01-20 21:38:08.696 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Int32), @__request_ProductId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedAt", b."ProductId", b."Quantity", b."UpdatedAt"
FROM basket_items AS b
WHERE b."BasketId" = @__basket_Id_0 AND b."ProductId" = @__request_ProductId_1
LIMIT 1
2025-01-20 21:38:08.759 +03:00 [ERR] Failed executing DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO basket_items ("Id", "BasketId", "CreatedAt", "ProductId", "Quantity", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-01-20 21:38:08.806 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ECommerceAPI.Persistence.Contexts.ECommerceAPIDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "basket_items" violates foreign key constraint "FK_basket_items_baskets_BasketId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|222_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "basket_items" violates foreign key constraint "FK_basket_items_baskets_BasketId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: basket_items
    ConstraintName: FK_basket_items_baskets_BasketId
    File: ri_triggers.c
    Line: 2619
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "basket_items" violates foreign key constraint "FK_basket_items_baskets_BasketId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|222_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "basket_items" violates foreign key constraint "FK_basket_items_baskets_BasketId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: basket_items
    ConstraintName: FK_basket_items_baskets_BasketId
    File: ri_triggers.c
    Line: 2619
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-01-20 21:38:09.009 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.BasketsController.AddItemToBasket (ECommerceAPI.API) in 468.3747ms
2025-01-20 21:38:09.011 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.BasketsController.AddItemToBasket (ECommerceAPI.API)'
2025-01-20 21:38:09.089 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "basket_items" violates foreign key constraint "FK_basket_items_baskets_BasketId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|222_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "basket_items" violates foreign key constraint "FK_basket_items_baskets_BasketId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: basket_items
    ConstraintName: FK_basket_items_baskets_BasketId
    File: ri_triggers.c
    Line: 2619
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ECommerceAPI.Persistence.Repositories.WriteRepository`1.SaveAsync() in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Infrastructure\ECommerceAPI.Persistence\Repositories\WriteRepository.cs:line 62
   at ECommerceAPI.Persistence.Services.BasketService.AddItemToBasketAsync(CreateBasketItemRequest request) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Infrastructure\ECommerceAPI.Persistence\Services\BasketService.cs:line 91
   at ECommerceAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandHandler.Handle(AddItemToBasketCommandRequest request, CancellationToken cancellationToken) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Basket\AddItemToBasket\AddItemToBasketCommandHandler.cs:line 22
   at ECommerceAPI.API.Controllers.BasketsController.AddItemToBasket(AddItemToBasketCommandRequest request) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\BasketsController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 111
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-20 21:38:09.157 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/baskets application/json 40 - 500 - text/plain;+charset=utf-8 687.1082ms
2025-01-20 21:42:41.167 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-20 21:42:41.404 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-20 21:42:41.405 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-20 21:42:41.406 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-20 21:42:41.407 +03:00 [INF] Hosting environment: Development
2025-01-20 21:42:41.407 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-20 21:42:42.242 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-20 21:42:42.474 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 235.3891ms
2025-01-20 21:42:42.500 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-20 21:42:42.500 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-20 21:42:42.500 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-20 21:42:42.508 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 8.4868ms
2025-01-20 21:42:42.531 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 31.1603ms
2025-01-20 21:42:42.551 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 51.1741ms
2025-01-20 21:42:43.543 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-20 21:42:43.681 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 138.4615ms
2025-01-20 21:42:51.827 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68
2025-01-20 21:42:51.842 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-20 21:42:51.875 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-20 21:42:53.025 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-20 21:42:53.356 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-20 21:42:53.444 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-20 21:42:53.460 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-20 21:42:53.478 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 1596.9846ms
2025-01-20 21:42:53.480 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-20 21:42:53.490 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68 - 200 - application/json;+charset=utf-8 1661.9977ms
2025-01-20 21:43:05.819 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/baskets application/json 40
2025-01-20 21:43:05.905 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.BasketsController.AddItemToBasket (ECommerceAPI.API)'
2025-01-20 21:43:05.913 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerceAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerceAPI.API.Controllers.BasketsController (ECommerceAPI.API).
2025-01-20 21:43:06.075 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", b."Id", b."CreatedAt", b."UpdatedAt", b."UserId"
FROM "AspNetUsers" AS a
LEFT JOIN baskets AS b ON a."Id" = b."UserId"
WHERE a."UserName" = @__username_0
LIMIT 1
2025-01-20 21:43:06.119 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Int32), @__request_ProductId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedAt", b."ProductId", b."Quantity", b."UpdatedAt"
FROM basket_items AS b
WHERE b."BasketId" = @__basket_Id_0 AND b."ProductId" = @__request_ProductId_1
LIMIT 1
2025-01-20 21:43:06.207 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO basket_items ("BasketId", "CreatedAt", "ProductId", "Quantity", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-01-20 21:43:06.223 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2025-01-20 21:43:06.225 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.BasketsController.AddItemToBasket (ECommerceAPI.API) in 309.0962ms
2025-01-20 21:43:06.226 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.BasketsController.AddItemToBasket (ECommerceAPI.API)'
2025-01-20 21:43:06.228 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/baskets application/json 40 - 200 - application/json;+charset=utf-8 408.7863ms
2025-01-20 21:43:38.239 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/api/baskets - -
2025-01-20 21:43:38.243 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.BasketsController.GetBasketItems (ECommerceAPI.API)'
2025-01-20 21:43:38.247 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerceAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerceAPI.API.Controllers.BasketsController (ECommerceAPI.API).
2025-01-20 21:43:38.257 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-01-20 21:43:38.260 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.BasketsController.GetBasketItems (ECommerceAPI.API) in 9.2295ms
2025-01-20 21:43:38.261 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.BasketsController.GetBasketItems (ECommerceAPI.API)'
2025-01-20 21:43:38.262 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/api/baskets - - - 415 - application/problem+json;+charset=utf-8 22.5075ms
2025-01-20 21:45:51.108 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7031/api/baskets application/json 43
2025-01-20 21:45:51.111 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.BasketsController.UpdateQuantity (ECommerceAPI.API)'
2025-01-20 21:45:51.114 +03:00 [INF] Route matched with {action = "UpdateQuantity", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuantity(ECommerceAPI.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandRequest) on controller ECommerceAPI.API.Controllers.BasketsController (ECommerceAPI.API).
2025-01-20 21:45:51.135 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedAt", b."ProductId", b."Quantity", b."UpdatedAt"
FROM basket_items AS b
WHERE b."Id" = @__id_0
LIMIT 1
2025-01-20 21:45:51.141 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE basket_items SET "Quantity" = @p0, "UpdatedAt" = @p1
WHERE "Id" = @p2;
2025-01-20 21:45:51.144 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandResponse'.
2025-01-20 21:45:51.145 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.BasketsController.UpdateQuantity (ECommerceAPI.API) in 29.6447ms
2025-01-20 21:45:51.146 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.BasketsController.UpdateQuantity (ECommerceAPI.API)'
2025-01-20 21:45:51.147 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7031/api/baskets application/json 43 - 200 - application/json;+charset=utf-8 38.4711ms
2025-01-20 21:46:29.429 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7031/api/baskets application/json 25
2025-01-20 21:46:29.430 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.BasketsController.RemoveBasketItem (ECommerceAPI.API)'
2025-01-20 21:46:29.434 +03:00 [INF] Route matched with {action = "RemoveBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveBasketItem(ECommerceAPI.Application.Features.Commands.Basket.RemoveBasketItem.RemoveBasketItemCommandRequest) on controller ECommerceAPI.API.Controllers.BasketsController (ECommerceAPI.API).
2025-01-20 21:46:29.443 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedAt", b."ProductId", b."Quantity", b."UpdatedAt"
FROM basket_items AS b
WHERE b."Id" = @__id_0
LIMIT 1
2025-01-20 21:46:29.455 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM basket_items
WHERE "Id" = @p0;
2025-01-20 21:46:29.461 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.Basket.RemoveBasketItem.RemoveBasketItemCommandResponse'.
2025-01-20 21:46:29.463 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.BasketsController.RemoveBasketItem (ECommerceAPI.API) in 27.6911ms
2025-01-20 21:46:29.464 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.BasketsController.RemoveBasketItem (ECommerceAPI.API)'
2025-01-20 21:46:29.465 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7031/api/baskets application/json 25 - 200 - application/json;+charset=utf-8 36.5975ms
2025-01-20 21:46:40.897 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/baskets application/json 40
2025-01-20 21:46:40.898 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.BasketsController.AddItemToBasket (ECommerceAPI.API)'
2025-01-20 21:46:40.899 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerceAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerceAPI.API.Controllers.BasketsController (ECommerceAPI.API).
2025-01-20 21:46:40.904 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", b."Id", b."CreatedAt", b."UpdatedAt", b."UserId"
FROM "AspNetUsers" AS a
LEFT JOIN baskets AS b ON a."Id" = b."UserId"
WHERE a."UserName" = @__username_0
LIMIT 1
2025-01-20 21:46:40.909 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__basket_Id_0='?' (DbType = Int32), @__request_ProductId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedAt", b."ProductId", b."Quantity", b."UpdatedAt"
FROM basket_items AS b
WHERE b."BasketId" = @__basket_Id_0 AND b."ProductId" = @__request_ProductId_1
LIMIT 1
2025-01-20 21:46:40.913 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO basket_items ("BasketId", "CreatedAt", "ProductId", "Quantity", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-01-20 21:46:40.916 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2025-01-20 21:46:40.917 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.BasketsController.AddItemToBasket (ECommerceAPI.API) in 16.4205ms
2025-01-20 21:46:40.918 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.BasketsController.AddItemToBasket (ECommerceAPI.API)'
2025-01-20 21:46:40.919 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/baskets application/json 40 - 200 - application/json;+charset=utf-8 22.4166ms
2025-01-20 21:47:08.909 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/api/baskets - -
2025-01-20 21:47:08.911 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.BasketsController.GetBasketItems (ECommerceAPI.API)'
2025-01-20 21:47:08.912 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerceAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerceAPI.API.Controllers.BasketsController (ECommerceAPI.API).
2025-01-20 21:47:08.915 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-01-20 21:47:08.916 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.BasketsController.GetBasketItems (ECommerceAPI.API) in 1.436ms
2025-01-20 21:47:08.917 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.BasketsController.GetBasketItems (ECommerceAPI.API)'
2025-01-20 21:47:08.918 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/api/baskets - - - 415 - application/problem+json;+charset=utf-8 8.9782ms
2025-01-20 21:48:25.506 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-20 21:48:25.726 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-20 21:48:25.727 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-20 21:48:25.730 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-20 21:48:25.731 +03:00 [INF] Hosting environment: Development
2025-01-20 21:48:25.732 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-20 21:48:26.493 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-20 21:48:26.691 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 199.4934ms
2025-01-20 21:48:26.711 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-20 21:48:26.711 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-20 21:48:26.711 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-20 21:48:26.718 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 7.3148ms
2025-01-20 21:48:26.744 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 33.3089ms
2025-01-20 21:48:26.768 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 56.6724ms
2025-01-20 21:48:27.845 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-20 21:48:27.962 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 116.5188ms
2025-01-20 21:48:32.554 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68
2025-01-20 21:48:32.567 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-20 21:48:32.591 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-20 21:48:33.702 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-20 21:48:34.028 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-20 21:48:34.120 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-20 21:48:34.136 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-20 21:48:34.153 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 1554.892ms
2025-01-20 21:48:34.156 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-20 21:48:34.166 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68 - 200 - application/json;+charset=utf-8 1611.0727ms
2025-01-20 21:48:45.061 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/api/baskets - -
2025-01-20 21:48:45.121 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.BasketsController.GetBasketItems (ECommerceAPI.API)'
2025-01-20 21:48:45.128 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerceAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerceAPI.API.Controllers.BasketsController (ECommerceAPI.API).
2025-01-20 21:48:45.240 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", b."Id", b."CreatedAt", b."UpdatedAt", b."UserId"
FROM "AspNetUsers" AS a
LEFT JOIN baskets AS b ON a."Id" = b."UserId"
WHERE a."UserName" = @__username_0
LIMIT 1
2025-01-20 21:48:45.401 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.BasketsController.GetBasketItems (ECommerceAPI.API) in 269.6715ms
2025-01-20 21:48:45.403 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.BasketsController.GetBasketItems (ECommerceAPI.API)'
2025-01-20 21:48:45.475 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The expression 'bi.ProductId' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see http://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at ECommerceAPI.Persistence.Services.BasketService.GetBasketItemsAsync() in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Infrastructure\ECommerceAPI.Persistence\Services\BasketService.cs:line 63
   at ECommerceAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryHandler.Handle(GetBasketItemsQueryRequest request, CancellationToken cancellationToken) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Core\ECommerceAPI.Application\Features\Queries\Basket\GetBasketItems\GetBasketItemsQueryHandler.cs:line 23
   at ECommerceAPI.API.Controllers.BasketsController.GetBasketItems(GetBasketItemsQueryRequest request) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\BasketsController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 111
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-20 21:48:45.553 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/api/baskets - - - 500 - text/plain;+charset=utf-8 491.7039ms
2025-01-20 21:51:30.548 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-20 21:51:30.770 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-20 21:51:30.771 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-20 21:51:30.774 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-20 21:51:30.775 +03:00 [INF] Hosting environment: Development
2025-01-20 21:51:30.775 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-20 21:51:31.571 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-20 21:51:31.751 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 181.9538ms
2025-01-20 21:51:31.770 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-20 21:51:31.770 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-20 21:51:31.770 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-20 21:51:31.780 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 8.8750ms
2025-01-20 21:51:31.805 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 35.0713ms
2025-01-20 21:51:31.835 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 64.7350ms
2025-01-20 21:51:32.962 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-20 21:51:33.138 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 175.6661ms
2025-01-20 21:51:44.667 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68
2025-01-20 21:51:44.680 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-20 21:51:44.703 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-20 21:51:45.737 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-20 21:51:46.026 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-20 21:51:46.115 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-20 21:51:46.132 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-20 21:51:46.148 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 1440.0439ms
2025-01-20 21:51:46.151 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-20 21:51:46.161 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68 - 200 - application/json;+charset=utf-8 1493.9933ms
2025-01-20 21:51:57.303 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/api/baskets - -
2025-01-20 21:51:57.387 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.BasketsController.GetBasketItems (ECommerceAPI.API)'
2025-01-20 21:51:57.394 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerceAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerceAPI.API.Controllers.BasketsController (ECommerceAPI.API).
2025-01-20 21:51:57.506 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", b."Id", b."CreatedAt", b."UpdatedAt", b."UserId"
FROM "AspNetUsers" AS a
LEFT JOIN baskets AS b ON a."Id" = b."UserId"
WHERE a."UserName" = @__username_0
LIMIT 1
2025-01-20 21:51:57.575 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."UpdatedAt", t."UserId", t0."Id", t0."BasketId", t0."CreatedAt", t0."ProductId", t0."Quantity", t0."UpdatedAt", t0."Id0", t0."CreatedAt0", t0."Description", t0."Name", t0."Price", t0."Stock", t0."UpdatedAt0"
FROM (
    SELECT b."Id", b."CreatedAt", b."UpdatedAt", b."UserId"
    FROM baskets AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedAt", b0."ProductId", b0."Quantity", b0."UpdatedAt", p."Id" AS "Id0", p."CreatedAt" AS "CreatedAt0", p."Description", p."Name", p."Price", p."Stock", p."UpdatedAt" AS "UpdatedAt0"
    FROM basket_items AS b0
    INNER JOIN products AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-01-20 21:51:57.607 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerceAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerceAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-20 21:51:57.618 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.BasketsController.GetBasketItems (ECommerceAPI.API) in 220.3095ms
2025-01-20 21:51:57.620 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.BasketsController.GetBasketItems (ECommerceAPI.API)'
2025-01-20 21:51:57.622 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/api/baskets - - - 200 - application/json;+charset=utf-8 319.0709ms
2025-01-20 21:52:48.536 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-20 21:52:48.715 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-20 21:52:48.716 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-20 21:52:48.717 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-20 21:52:48.718 +03:00 [INF] Hosting environment: Development
2025-01-20 21:52:48.718 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-20 21:52:49.495 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-20 21:52:49.744 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 252.6191ms
2025-01-20 21:52:49.761 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-20 21:52:49.761 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-20 21:52:49.761 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-20 21:52:49.771 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 8.9231ms
2025-01-20 21:52:49.785 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 23.0323ms
2025-01-20 21:52:49.808 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 46.0220ms
2025-01-20 22:35:17.582 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-20 22:35:17.844 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-20 22:35:17.844 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-20 22:35:17.845 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-20 22:35:17.846 +03:00 [INF] Hosting environment: Development
2025-01-20 22:35:17.846 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-20 22:35:18.717 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-20 22:35:18.970 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 257.1210ms
2025-01-20 22:35:18.994 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-20 22:35:18.994 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-20 22:35:18.994 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-20 22:35:19.006 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 11.8749ms
2025-01-20 22:35:19.285 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 280.8717ms
2025-01-20 22:35:19.369 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 374.7466ms
2025-01-20 22:35:20.308 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-20 22:35:20.465 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 156.2548ms
2025-01-21 17:55:20.626 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 17:55:20.926 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-21 17:55:20.927 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-21 17:55:20.929 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 17:55:20.930 +03:00 [INF] Hosting environment: Development
2025-01-21 17:55:20.930 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-21 17:55:22.079 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-21 17:55:22.358 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 283.3933ms
2025-01-21 17:55:22.384 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-21 17:55:22.384 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-21 17:55:22.391 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 6.9131ms
2025-01-21 17:55:22.403 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 18.7552ms
2025-01-21 17:55:22.406 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-21 17:55:22.495 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 88.5808ms
2025-01-21 17:55:23.685 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-21 17:55:23.872 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 187.1687ms
2025-01-21 17:55:35.972 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68
2025-01-21 17:55:35.990 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 17:55:36.025 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-21 17:55:37.372 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 17:55:37.714 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 17:55:37.821 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-21 17:55:37.837 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-21 17:55:37.853 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 1823.2095ms
2025-01-21 17:55:37.855 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 17:55:37.865 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68 - 200 - application/json;+charset=utf-8 1892.3953ms
2025-01-21 17:57:19.884 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/orders application/json 27
2025-01-21 17:57:19.910 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:57:19.915 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-01-21 17:57:19.917 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/orders application/json 27 - 401 0 - 32.7535ms
2025-01-21 17:57:38.166 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/orders application/json 27
2025-01-21 17:57:38.216 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.OrdersController.CreateOrder (ECommerceAPI.API)'
2025-01-21 17:57:38.223 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerceAPI.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerceAPI.API.Controllers.OrdersController (ECommerceAPI.API).
2025-01-21 17:57:38.385 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."FullName", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."Id0", t."CreatedAt", t."UpdatedAt", t."UserId", b0."Id", b0."BasketId", b0."CreatedAt", b0."ProductId", b0."Quantity", b0."UpdatedAt"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", b."Id" AS "Id0", b."CreatedAt", b."UpdatedAt", b."UserId"
    FROM "AspNetUsers" AS a
    LEFT JOIN baskets AS b ON a."Id" = b."UserId"
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN basket_items AS b0 ON t."Id0" = b0."BasketId"
ORDER BY t."Id", t."Id0"
2025-01-21 17:57:38.586 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.OrdersController.CreateOrder (ECommerceAPI.API) in 361.052ms
2025-01-21 17:57:38.589 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.OrdersController.CreateOrder (ECommerceAPI.API)'
2025-01-21 17:57:38.667 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Your basket is empty.
   at ECommerceAPI.Persistence.Services.OrderService.CreateOrderAsync(CreateOrderRequest request) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Infrastructure\ECommerceAPI.Persistence\Services\OrderService.cs:line 51
   at ECommerceAPI.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandHandler.Handle(CreateOrderCommandRequest request, CancellationToken cancellationToken) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Order\CreateOrder\CreateOrderCommandHandler.cs:line 22
   at ECommerceAPI.API.Controllers.OrdersController.CreateOrder(CreateOrderCommandRequest request) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\OrdersController.cs:line 40
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 110
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-21 17:57:38.747 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/orders application/json 27 - 500 - text/plain;+charset=utf-8 580.9431ms
2025-01-21 17:58:07.364 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/products application/json 84
2025-01-21 17:58:07.367 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:58:07.369 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-01-21 17:58:07.370 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/products application/json 84 - 401 0 - 5.5725ms
2025-01-21 17:58:16.604 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/products application/json 84
2025-01-21 17:58:16.606 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-21 17:58:16.614 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ECommerceAPI.Application.Features.Commands.Product.CreateProduct.CreateProductCommandRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2025-01-21 17:58:16.769 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO products ("CreatedAt", "Description", "Name", "Price", "Stock", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-01-21 17:58:16.783 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.Product.CreateProduct.CreateProductCommandResponse'.
2025-01-21 17:58:16.786 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API) in 168.3377ms
2025-01-21 17:58:16.787 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.CreateProduct (ECommerceAPI.API)'
2025-01-21 17:58:16.788 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/products application/json 84 - 200 - application/json;+charset=utf-8 184.4721ms
2025-01-21 17:58:48.330 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/baskets application/json 40
2025-01-21 17:58:48.332 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.BasketsController.AddItemToBasket (ECommerceAPI.API)'
2025-01-21 17:58:48.336 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerceAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerceAPI.API.Controllers.BasketsController (ECommerceAPI.API).
2025-01-21 17:58:48.353 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", b."Id", b."CreatedAt", b."UpdatedAt", b."UserId"
FROM "AspNetUsers" AS a
LEFT JOIN baskets AS b ON a."Id" = b."UserId"
WHERE a."UserName" = @__username_0
LIMIT 1
2025-01-21 17:58:48.367 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__basket_Id_0='?' (DbType = Int32), @__request_ProductId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedAt", b."ProductId", b."Quantity", b."UpdatedAt"
FROM basket_items AS b
WHERE b."BasketId" = @__basket_Id_0 AND b."ProductId" = @__request_ProductId_1
LIMIT 1
2025-01-21 17:58:48.389 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO basket_items ("BasketId", "CreatedAt", "ProductId", "Quantity", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-01-21 17:58:48.394 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2025-01-21 17:58:48.395 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.BasketsController.AddItemToBasket (ECommerceAPI.API) in 55.8645ms
2025-01-21 17:58:48.397 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.BasketsController.AddItemToBasket (ECommerceAPI.API)'
2025-01-21 17:58:48.398 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/baskets application/json 40 - 200 - application/json;+charset=utf-8 67.7091ms
2025-01-21 17:58:55.989 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/api/baskets - -
2025-01-21 17:58:55.990 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.BasketsController.GetBasketItems (ECommerceAPI.API)'
2025-01-21 17:58:55.996 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerceAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerceAPI.API.Controllers.BasketsController (ECommerceAPI.API).
2025-01-21 17:58:56.008 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", b."Id", b."CreatedAt", b."UpdatedAt", b."UserId"
FROM "AspNetUsers" AS a
LEFT JOIN baskets AS b ON a."Id" = b."UserId"
WHERE a."UserName" = @__username_0
LIMIT 1
2025-01-21 17:58:56.030 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."UpdatedAt", t."UserId", t0."Id", t0."BasketId", t0."CreatedAt", t0."ProductId", t0."Quantity", t0."UpdatedAt", t0."Id0", t0."CreatedAt0", t0."Description", t0."Name", t0."Price", t0."Stock", t0."UpdatedAt0"
FROM (
    SELECT b."Id", b."CreatedAt", b."UpdatedAt", b."UserId"
    FROM baskets AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedAt", b0."ProductId", b0."Quantity", b0."UpdatedAt", p."Id" AS "Id0", p."CreatedAt" AS "CreatedAt0", p."Description", p."Name", p."Price", p."Stock", p."UpdatedAt" AS "UpdatedAt0"
    FROM basket_items AS b0
    INNER JOIN products AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-01-21 17:58:56.041 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerceAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerceAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:58:56.049 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.BasketsController.GetBasketItems (ECommerceAPI.API) in 49.5315ms
2025-01-21 17:58:56.050 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.BasketsController.GetBasketItems (ECommerceAPI.API)'
2025-01-21 17:58:56.051 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/api/baskets - - - 200 - application/json;+charset=utf-8 62.6953ms
2025-01-21 17:59:17.397 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/orders application/json 27
2025-01-21 17:59:17.399 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.OrdersController.CreateOrder (ECommerceAPI.API)'
2025-01-21 17:59:17.400 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerceAPI.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerceAPI.API.Controllers.OrdersController (ECommerceAPI.API).
2025-01-21 17:59:17.412 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."FullName", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."Id0", t."CreatedAt", t."UpdatedAt", t."UserId", b0."Id", b0."BasketId", b0."CreatedAt", b0."ProductId", b0."Quantity", b0."UpdatedAt"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", b."Id" AS "Id0", b."CreatedAt", b."UpdatedAt", b."UserId"
    FROM "AspNetUsers" AS a
    LEFT JOIN baskets AS b ON a."Id" = b."UserId"
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN basket_items AS b0 ON t."Id0" = b0."BasketId"
ORDER BY t."Id", t."Id0"
2025-01-21 17:59:17.510 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.OrdersController.CreateOrder (ECommerceAPI.API) in 106.3735ms
2025-01-21 17:59:17.512 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.OrdersController.CreateOrder (ECommerceAPI.API)'
2025-01-21 17:59:17.564 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Your basket is empty.
   at ECommerceAPI.Persistence.Services.OrderService.CreateOrderAsync(CreateOrderRequest request) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Infrastructure\ECommerceAPI.Persistence\Services\OrderService.cs:line 51
   at ECommerceAPI.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandHandler.Handle(CreateOrderCommandRequest request, CancellationToken cancellationToken) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Order\CreateOrder\CreateOrderCommandHandler.cs:line 22
   at ECommerceAPI.API.Controllers.OrdersController.CreateOrder(CreateOrderCommandRequest request) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\OrdersController.cs:line 40
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 110
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-21 17:59:17.575 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/orders application/json 27 - 500 - text/plain;+charset=utf-8 178.9405ms
2025-01-21 18:02:25.347 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 18:02:25.583 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-21 18:02:25.584 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-21 18:02:25.587 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 18:02:25.588 +03:00 [INF] Hosting environment: Development
2025-01-21 18:02:25.589 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-21 18:02:26.064 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-21 18:02:26.352 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 290.4285ms
2025-01-21 18:02:26.389 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-21 18:02:26.389 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-21 18:02:26.389 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-21 18:02:26.403 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 13.3813ms
2025-01-21 18:02:26.426 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 37.3578ms
2025-01-21 18:02:26.474 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 84.7917ms
2025-01-21 18:02:28.165 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-21 18:02:28.369 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 204.7984ms
2025-01-21 18:02:31.233 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68
2025-01-21 18:02:31.264 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 18:02:31.304 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-21 18:02:33.073 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 18:02:33.528 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 18:02:33.650 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-21 18:02:33.683 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-21 18:02:33.708 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 2398.1682ms
2025-01-21 18:02:33.711 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 18:02:33.727 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68 - 200 - application/json;+charset=utf-8 2493.8298ms
2025-01-21 18:02:41.664 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/orders application/json 27
2025-01-21 18:02:41.757 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.OrdersController.CreateOrder (ECommerceAPI.API)'
2025-01-21 18:02:41.764 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerceAPI.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerceAPI.API.Controllers.OrdersController (ECommerceAPI.API).
2025-01-21 18:02:41.971 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."FullName", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."Id0", t."CreatedAt", t."UpdatedAt", t."UserId", b0."Id", b0."BasketId", b0."CreatedAt", b0."ProductId", b0."Quantity", b0."UpdatedAt"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", b."Id" AS "Id0", b."CreatedAt", b."UpdatedAt", b."UserId"
    FROM "AspNetUsers" AS a
    LEFT JOIN baskets AS b ON a."Id" = b."UserId"
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN basket_items AS b0 ON t."Id0" = b0."BasketId"
ORDER BY t."Id", t."Id0"
2025-01-21 18:06:16.673 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 18:06:17.010 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-21 18:06:17.011 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-21 18:06:17.013 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 18:06:17.013 +03:00 [INF] Hosting environment: Development
2025-01-21 18:06:17.014 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-21 18:06:17.748 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-21 18:06:18.064 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 321.3431ms
2025-01-21 18:06:18.091 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-21 18:06:18.091 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-21 18:06:18.093 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-21 18:06:18.100 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 9.5681ms
2025-01-21 18:06:18.129 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 38.2775ms
2025-01-21 18:06:18.160 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 66.7988ms
2025-01-21 18:06:19.583 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-21 18:06:19.745 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 162.0113ms
2025-01-21 18:06:22.127 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68
2025-01-21 18:06:22.152 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 18:06:22.192 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-21 18:06:23.469 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 18:06:23.810 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 18:06:23.912 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-21 18:06:23.929 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-21 18:06:23.946 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 1749.5002ms
2025-01-21 18:06:23.948 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 18:06:23.957 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68 - 200 - application/json;+charset=utf-8 1829.6610ms
2025-01-21 18:06:33.425 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/orders application/json 27
2025-01-21 18:06:33.495 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.OrdersController.CreateOrder (ECommerceAPI.API)'
2025-01-21 18:06:33.502 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerceAPI.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerceAPI.API.Controllers.OrdersController (ECommerceAPI.API).
2025-01-21 18:06:33.651 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."FullName", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."Id0", t."CreatedAt", t."UpdatedAt", t."UserId", t0."Id", t0."BasketId", t0."CreatedAt", t0."ProductId", t0."Quantity", t0."UpdatedAt", t0."Id0", t0."CreatedAt0", t0."Description", t0."Name", t0."Price", t0."Stock", t0."UpdatedAt0"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", b."Id" AS "Id0", b."CreatedAt", b."UpdatedAt", b."UserId"
    FROM "AspNetUsers" AS a
    LEFT JOIN baskets AS b ON a."Id" = b."UserId"
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedAt", b0."ProductId", b0."Quantity", b0."UpdatedAt", p."Id" AS "Id0", p."CreatedAt" AS "CreatedAt0", p."Description", p."Name", p."Price", p."Stock", p."UpdatedAt" AS "UpdatedAt0"
    FROM basket_items AS b0
    INNER JOIN products AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2025-01-21 18:06:33.825 +03:00 [ERR] Failed executing DbCommand (19ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO orders ("Address", "CreatedAt", "OrderNumber", "Status", "TotalPrice", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2025-01-21 18:06:33.883 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ECommerceAPI.Persistence.Contexts.ECommerceAPIDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "UserId" of relation "orders" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|222_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "UserId" of relation "orders" violates not-null constraint
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: orders
    ColumnName: UserId
    File: execMain.c
    Line: 2009
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "UserId" of relation "orders" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|222_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "UserId" of relation "orders" violates not-null constraint
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: orders
    ColumnName: UserId
    File: execMain.c
    Line: 2009
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-01-21 18:06:34.081 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.OrdersController.CreateOrder (ECommerceAPI.API) in 577.3825ms
2025-01-21 18:06:34.083 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.OrdersController.CreateOrder (ECommerceAPI.API)'
2025-01-21 18:06:34.169 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "UserId" of relation "orders" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|222_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "UserId" of relation "orders" violates not-null constraint
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: orders
    ColumnName: UserId
    File: execMain.c
    Line: 2009
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ECommerceAPI.Persistence.Repositories.WriteRepository`1.SaveAsync() in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Infrastructure\ECommerceAPI.Persistence\Repositories\WriteRepository.cs:line 62
   at ECommerceAPI.Persistence.Services.OrderService.CreateOrderAsync(CreateOrderRequest request) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Infrastructure\ECommerceAPI.Persistence\Services\OrderService.cs:line 69
   at ECommerceAPI.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandHandler.Handle(CreateOrderCommandRequest request, CancellationToken cancellationToken) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Order\CreateOrder\CreateOrderCommandHandler.cs:line 22
   at ECommerceAPI.API.Controllers.OrdersController.CreateOrder(CreateOrderCommandRequest request) in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\OrdersController.cs:line 40
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 110
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-21 18:06:34.233 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/orders application/json 27 - 500 - text/plain;+charset=utf-8 807.6363ms
2025-01-21 18:08:28.510 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 18:08:28.708 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-21 18:08:28.708 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-21 18:08:28.710 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 18:08:28.710 +03:00 [INF] Hosting environment: Development
2025-01-21 18:08:28.710 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-21 18:08:29.497 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-21 18:08:29.724 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 230.8559ms
2025-01-21 18:08:29.741 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-21 18:08:29.741 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-21 18:08:29.742 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-21 18:08:29.756 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 14.7047ms
2025-01-21 18:08:29.773 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 31.6671ms
2025-01-21 18:08:29.799 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 57.4794ms
2025-01-21 18:08:30.852 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-21 18:08:31.011 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 159.2241ms
2025-01-21 18:08:49.345 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68
2025-01-21 18:08:49.361 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 18:08:49.392 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-21 18:08:50.553 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 18:08:50.911 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 18:08:50.999 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-21 18:08:51.016 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-21 18:08:51.031 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 1634.0944ms
2025-01-21 18:08:51.033 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 18:08:51.043 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68 - 200 - application/json;+charset=utf-8 1697.4217ms
2025-01-21 18:08:59.305 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/orders application/json 27
2025-01-21 18:08:59.382 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.OrdersController.CreateOrder (ECommerceAPI.API)'
2025-01-21 18:08:59.388 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerceAPI.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerceAPI.API.Controllers.OrdersController (ECommerceAPI.API).
2025-01-21 18:08:59.555 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."FullName", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."Id0", t."CreatedAt", t."UpdatedAt", t."UserId", t0."Id", t0."BasketId", t0."CreatedAt", t0."ProductId", t0."Quantity", t0."UpdatedAt", t0."Id0", t0."CreatedAt0", t0."Description", t0."Name", t0."Price", t0."Stock", t0."UpdatedAt0"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", b."Id" AS "Id0", b."CreatedAt", b."UpdatedAt", b."UserId"
    FROM "AspNetUsers" AS a
    LEFT JOIN baskets AS b ON a."Id" = b."UserId"
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedAt", b0."ProductId", b0."Quantity", b0."UpdatedAt", p."Id" AS "Id0", p."CreatedAt" AS "CreatedAt0", p."Description", p."Name", p."Price", p."Stock", p."UpdatedAt" AS "UpdatedAt0"
    FROM basket_items AS b0
    INNER JOIN products AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2025-01-21 18:08:59.778 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO orders ("Address", "CreatedAt", "OrderNumber", "Status", "TotalPrice", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2025-01-21 18:08:59.801 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?' (DbType = Decimal), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (DbType = Int32), @p15='?' (DbType = Decimal), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO order_items ("CreatedAt", "OrderId", "Price", "ProductId", "Quantity", "UpdatedAt")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12)
RETURNING "Id";
INSERT INTO order_items ("CreatedAt", "OrderId", "Price", "ProductId", "Quantity", "UpdatedAt")
VALUES (@p13, @p14, @p15, @p16, @p17, @p18)
RETURNING "Id";
2025-01-21 18:08:59.818 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandResponse'.
2025-01-21 18:08:59.821 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.OrdersController.CreateOrder (ECommerceAPI.API) in 431.8411ms
2025-01-21 18:08:59.823 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.OrdersController.CreateOrder (ECommerceAPI.API)'
2025-01-21 18:08:59.824 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/orders application/json 27 - 200 - application/json;+charset=utf-8 519.5067ms
2025-01-21 18:09:25.668 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/api/orders - -
2025-01-21 18:09:25.672 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.OrdersController.GetUserOrders (ECommerceAPI.API)'
2025-01-21 18:09:25.678 +03:00 [INF] Route matched with {action = "GetUserOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserOrders(ECommerceAPI.Application.Features.Queries.Order.GetUserOrders.GetUserOrdersQueryRequest) on controller ECommerceAPI.API.Controllers.OrdersController (ECommerceAPI.API).
2025-01-21 18:09:25.699 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 18:09:25.720 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedAt", o."OrderNumber", o."Status", o."TotalPrice", o."UpdatedAt", o."UserId", t."Id", t."CreatedAt", t."OrderId", t."Price", t."ProductId", t."Quantity", t."UpdatedAt", t."Id0", t."CreatedAt0", t."Description", t."Name", t."Price0", t."Stock", t."UpdatedAt0"
FROM orders AS o
LEFT JOIN (
    SELECT o0."Id", o0."CreatedAt", o0."OrderId", o0."Price", o0."ProductId", o0."Quantity", o0."UpdatedAt", p."Id" AS "Id0", p."CreatedAt" AS "CreatedAt0", p."Description", p."Name", p."Price" AS "Price0", p."Stock", p."UpdatedAt" AS "UpdatedAt0"
    FROM order_items AS o0
    INNER JOIN products AS p ON o0."ProductId" = p."Id"
) AS t ON o."Id" = t."OrderId"
WHERE o."UserId" = @__user_Id_0
ORDER BY o."Id", t."Id"
2025-01-21 18:09:25.726 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerceAPI.Application.Features.Queries.Order.GetUserOrders.GetUserOrdersQueryResponse, ECommerceAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 18:09:25.728 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.OrdersController.GetUserOrders (ECommerceAPI.API) in 47.897ms
2025-01-21 18:09:25.729 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.OrdersController.GetUserOrders (ECommerceAPI.API)'
2025-01-21 18:09:25.730 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/api/orders - - - 200 - application/json;+charset=utf-8 62.1318ms
2025-01-21 18:11:36.188 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7031/api/orders application/json 51
2025-01-21 18:11:36.191 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.OrdersController.UpdateOrderStatus (ECommerceAPI.API)'
2025-01-21 18:11:36.196 +03:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(ECommerceAPI.Application.Features.Commands.Order.UpdateOrderStatus.UpdateOrderStatusCommandRequest) on controller ECommerceAPI.API.Controllers.OrdersController (ECommerceAPI.API).
2025-01-21 18:11:36.213 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 18:11:36.215 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.OrdersController.UpdateOrderStatus (ECommerceAPI.API) in 18.1072ms
2025-01-21 18:11:36.217 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.OrdersController.UpdateOrderStatus (ECommerceAPI.API)'
2025-01-21 18:11:36.218 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7031/api/orders application/json 51 - 400 - application/json;+charset=utf-8 29.8201ms
2025-01-21 18:29:56.585 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 18:29:56.901 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-21 18:29:56.902 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-21 18:29:56.904 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 18:29:56.905 +03:00 [INF] Hosting environment: Development
2025-01-21 18:29:56.906 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-21 18:29:57.737 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-21 18:29:57.933 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 196.2342ms
2025-01-21 18:29:57.951 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-21 18:29:57.951 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-21 18:29:57.951 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-21 18:29:57.959 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 8.1375ms
2025-01-21 18:29:57.985 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 34.4176ms
2025-01-21 18:29:58.014 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 63.5318ms
2025-01-21 18:29:59.077 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-21 18:29:59.238 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 160.8002ms
2025-01-21 18:30:18.794 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 18:30:19.009 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-21 18:30:19.010 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-21 18:30:19.011 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 18:30:19.011 +03:00 [INF] Hosting environment: Development
2025-01-21 18:30:19.012 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-21 18:30:19.543 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-21 18:30:19.736 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 195.1726ms
2025-01-21 18:30:19.760 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-21 18:30:19.760 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-21 18:30:19.760 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-21 18:30:19.770 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 9.8149ms
2025-01-21 18:30:19.810 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 49.8914ms
2025-01-21 18:30:19.839 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 79.1812ms
2025-01-21 18:30:20.895 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-21 18:30:21.051 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 156.0733ms
2025-01-21 18:30:25.446 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68
2025-01-21 18:30:25.466 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 18:30:25.504 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-21 18:30:26.740 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 18:30:27.082 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 18:30:27.171 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-21 18:30:27.187 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-21 18:30:27.204 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 1695.4447ms
2025-01-21 18:30:27.207 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 18:30:27.216 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68 - 200 - application/json;+charset=utf-8 1770.3069ms
2025-01-21 18:30:42.200 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/api/orders - -
2025-01-21 18:30:42.268 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.OrdersController.GetUserOrders (ECommerceAPI.API)'
2025-01-21 18:30:42.274 +03:00 [INF] Route matched with {action = "GetUserOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserOrders(ECommerceAPI.Application.Features.Queries.Order.GetUserOrders.GetUserOrdersQueryRequest) on controller ECommerceAPI.API.Controllers.OrdersController (ECommerceAPI.API).
2025-01-21 18:30:42.325 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 18:30:42.433 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedAt", o."OrderNumber", o."Status", o."TotalPrice", o."UpdatedAt", o."UserId", t."Id", t."CreatedAt", t."OrderId", t."Price", t."ProductId", t."Quantity", t."UpdatedAt", t."Id0", t."CreatedAt0", t."Description", t."Name", t."Price0", t."Stock", t."UpdatedAt0"
FROM orders AS o
LEFT JOIN (
    SELECT o0."Id", o0."CreatedAt", o0."OrderId", o0."Price", o0."ProductId", o0."Quantity", o0."UpdatedAt", p."Id" AS "Id0", p."CreatedAt" AS "CreatedAt0", p."Description", p."Name", p."Price" AS "Price0", p."Stock", p."UpdatedAt" AS "UpdatedAt0"
    FROM order_items AS o0
    INNER JOIN products AS p ON o0."ProductId" = p."Id"
) AS t ON o."Id" = t."OrderId"
WHERE o."UserId" = @__user_Id_0
ORDER BY o."Id", t."Id"
2025-01-21 18:30:42.493 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Order.GetUserOrders.GetUserOrdersQueryResponse'.
2025-01-21 18:30:42.531 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.OrdersController.GetUserOrders (ECommerceAPI.API) in 254.0846ms
2025-01-21 18:30:42.533 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.OrdersController.GetUserOrders (ECommerceAPI.API)'
2025-01-21 18:30:42.638 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.Orders.User.Orders.User.Orders.User.Orders.User.Orders.User.Orders.User.Orders.User.Orders.User.Orders.User.Orders.User.Orders.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](Utf8JsonWriter writer, TValue& value, JsonTypeInfo jsonTypeInfo, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 110
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-21 18:30:42.741 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/api/orders - - - 500 - text/plain;+charset=utf-8 541.0242ms
2025-01-21 18:46:33.384 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 18:46:33.711 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-21 18:46:33.712 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-21 18:46:33.713 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 18:46:33.713 +03:00 [INF] Hosting environment: Development
2025-01-21 18:46:33.714 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-21 18:46:34.490 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-21 18:46:34.776 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 288.8443ms
2025-01-21 18:46:34.792 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-21 18:46:34.792 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-21 18:46:34.792 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-21 18:46:34.800 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 7.5124ms
2025-01-21 18:46:34.816 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 23.8907ms
2025-01-21 18:46:34.843 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 51.5076ms
2025-01-21 18:46:36.112 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-21 18:46:36.275 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 163.6730ms
2025-01-21 18:47:42.102 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 18:47:42.299 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-21 18:47:42.300 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-21 18:47:42.301 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 18:47:42.302 +03:00 [INF] Hosting environment: Development
2025-01-21 18:47:42.302 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-21 18:47:42.727 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-21 18:47:42.894 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 167.9853ms
2025-01-21 18:47:42.913 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-21 18:47:42.913 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-21 18:47:42.913 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-21 18:47:42.921 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 7.9842ms
2025-01-21 18:47:42.940 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 26.6130ms
2025-01-21 18:47:42.962 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 49.1886ms
2025-01-21 18:47:44.108 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-21 18:47:44.248 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 139.6180ms
2025-01-21 18:47:48.662 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68
2025-01-21 18:47:48.680 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 18:47:48.715 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-21 18:47:49.938 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 18:47:50.263 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 18:47:50.348 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-21 18:47:50.367 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-21 18:47:50.383 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 1662.7445ms
2025-01-21 18:47:50.385 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 18:47:50.393 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68 - 200 - application/json;+charset=utf-8 1731.3526ms
2025-01-21 18:48:03.360 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/api/orders - -
2025-01-21 18:48:03.430 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.OrdersController.GetUserOrders (ECommerceAPI.API)'
2025-01-21 18:48:03.436 +03:00 [INF] Route matched with {action = "GetUserOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserOrders(ECommerceAPI.Application.Features.Queries.Order.GetUserOrders.GetUserOrdersQueryRequest) on controller ECommerceAPI.API.Controllers.OrdersController (ECommerceAPI.API).
2025-01-21 18:48:03.484 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 18:48:03.594 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedAt", o."OrderNumber", o."Status", o."TotalPrice", o."UpdatedAt", o."UserId", t."Id", t."CreatedAt", t."OrderId", t."Price", t."ProductId", t."Quantity", t."UpdatedAt", t."Id0", t."CreatedAt0", t."Description", t."Name", t."Price0", t."Stock", t."UpdatedAt0"
FROM orders AS o
LEFT JOIN (
    SELECT o0."Id", o0."CreatedAt", o0."OrderId", o0."Price", o0."ProductId", o0."Quantity", o0."UpdatedAt", p."Id" AS "Id0", p."CreatedAt" AS "CreatedAt0", p."Description", p."Name", p."Price" AS "Price0", p."Stock", p."UpdatedAt" AS "UpdatedAt0"
    FROM order_items AS o0
    INNER JOIN products AS p ON o0."ProductId" = p."Id"
) AS t ON o."Id" = t."OrderId"
WHERE o."UserId" = @__user_Id_0
ORDER BY o."Id", t."Id"
2025-01-21 18:48:03.653 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerceAPI.Application.Features.Queries.Order.GetUserOrders.GetUserOrdersQueryResponse, ECommerceAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 18:48:03.663 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.OrdersController.GetUserOrders (ECommerceAPI.API) in 224.2911ms
2025-01-21 18:48:03.665 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.OrdersController.GetUserOrders (ECommerceAPI.API)'
2025-01-21 18:48:03.666 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/api/orders - - - 200 - application/json;+charset=utf-8 306.3204ms
2025-01-21 18:52:31.306 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 18:52:31.509 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-21 18:52:31.510 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-21 18:52:31.511 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 18:52:31.512 +03:00 [INF] Hosting environment: Development
2025-01-21 18:52:31.512 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-21 18:52:32.212 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-21 18:52:32.388 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 178.3436ms
2025-01-21 18:52:32.409 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-21 18:52:32.409 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-21 18:52:32.409 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-21 18:52:32.418 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 9.0639ms
2025-01-21 18:52:32.443 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 33.7025ms
2025-01-21 18:52:32.474 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 65.2077ms
2025-01-21 18:52:33.465 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-21 18:52:33.618 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 153.1322ms
2025-01-21 18:52:37.944 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68
2025-01-21 18:52:37.958 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 18:52:37.980 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-21 18:52:39.400 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 18:52:39.744 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 18:52:39.834 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-21 18:52:39.850 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-21 18:52:39.865 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 1880.3685ms
2025-01-21 18:52:39.867 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 18:52:39.876 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68 - 200 - application/json;+charset=utf-8 1931.8886ms
2025-01-21 18:52:46.807 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/api/orders - -
2025-01-21 18:52:46.868 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.OrdersController.GetUserOrders (ECommerceAPI.API)'
2025-01-21 18:52:46.874 +03:00 [INF] Route matched with {action = "GetUserOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserOrders(ECommerceAPI.Application.Features.Queries.Order.GetUserOrders.GetUserOrdersQueryRequest) on controller ECommerceAPI.API.Controllers.OrdersController (ECommerceAPI.API).
2025-01-21 18:52:46.922 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 18:52:47.022 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedAt", o."OrderNumber", o."Status", o."TotalPrice", o."UpdatedAt", o."UserId", t."Id", t."CreatedAt", t."OrderId", t."Price", t."ProductId", t."Quantity", t."UpdatedAt", t."Id0", t."CreatedAt0", t."Description", t."Name", t."Price0", t."Stock", t."UpdatedAt0"
FROM orders AS o
LEFT JOIN (
    SELECT o0."Id", o0."CreatedAt", o0."OrderId", o0."Price", o0."ProductId", o0."Quantity", o0."UpdatedAt", p."Id" AS "Id0", p."CreatedAt" AS "CreatedAt0", p."Description", p."Name", p."Price" AS "Price0", p."Stock", p."UpdatedAt" AS "UpdatedAt0"
    FROM order_items AS o0
    INNER JOIN products AS p ON o0."ProductId" = p."Id"
) AS t ON o."Id" = t."OrderId"
WHERE o."UserId" = @__user_Id_0
ORDER BY o."Id", t."Id"
2025-01-21 18:52:47.082 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerceAPI.Application.Features.Queries.Order.GetUserOrders.GetUserOrdersQueryResponse, ECommerceAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 18:52:47.116 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.OrdersController.GetUserOrders (ECommerceAPI.API) in 239.31ms
2025-01-21 18:52:47.120 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.OrdersController.GetUserOrders (ECommerceAPI.API)'
2025-01-21 18:52:47.225 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.OrderItems.Order.User.Orders.User.Orders.User.Orders.User.Orders.User.Orders.User.Orders.User.Orders.User.Orders.User.Orders.OrderNumber.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](Utf8JsonWriter writer, TValue& value, JsonTypeInfo jsonTypeInfo, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 110
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-21 18:52:47.340 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/api/orders - - - 500 - text/plain;+charset=utf-8 533.4906ms
2025-01-21 18:55:48.789 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 18:55:48.971 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-21 18:55:48.973 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-21 18:55:48.975 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 18:55:48.976 +03:00 [INF] Hosting environment: Development
2025-01-21 18:55:48.976 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-21 18:55:49.845 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-21 18:55:50.068 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 227.1821ms
2025-01-21 18:55:50.088 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-21 18:55:50.088 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-21 18:55:50.088 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-21 18:55:50.095 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 7.2577ms
2025-01-21 18:55:50.111 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 23.8133ms
2025-01-21 18:55:50.138 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 50.1090ms
2025-01-21 18:55:51.041 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-21 18:55:51.192 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 150.7337ms
2025-01-21 18:55:54.815 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68
2025-01-21 18:55:54.829 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 18:55:54.853 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-21 18:55:55.866 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 18:55:56.180 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 18:55:56.266 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-21 18:55:56.283 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-21 18:55:56.300 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 1442.099ms
2025-01-21 18:55:56.302 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 18:55:56.311 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68 - 200 - application/json;+charset=utf-8 1495.9595ms
2025-01-21 18:56:03.608 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/api/orders - -
2025-01-21 18:56:03.669 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.OrdersController.GetUserOrders (ECommerceAPI.API)'
2025-01-21 18:56:03.674 +03:00 [INF] Route matched with {action = "GetUserOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserOrders(ECommerceAPI.Application.Features.Queries.Order.GetUserOrders.GetUserOrdersQueryRequest) on controller ECommerceAPI.API.Controllers.OrdersController (ECommerceAPI.API).
2025-01-21 18:56:03.724 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 18:56:03.822 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedAt", o."OrderNumber", o."Status", o."TotalPrice", o."UpdatedAt", o."UserId", t."Id", t."CreatedAt", t."OrderId", t."Price", t."ProductId", t."Quantity", t."UpdatedAt", t."Id0", t."CreatedAt0", t."Description", t."Name", t."Price0", t."Stock", t."UpdatedAt0"
FROM orders AS o
LEFT JOIN (
    SELECT o0."Id", o0."CreatedAt", o0."OrderId", o0."Price", o0."ProductId", o0."Quantity", o0."UpdatedAt", p."Id" AS "Id0", p."CreatedAt" AS "CreatedAt0", p."Description", p."Name", p."Price" AS "Price0", p."Stock", p."UpdatedAt" AS "UpdatedAt0"
    FROM order_items AS o0
    INNER JOIN products AS p ON o0."ProductId" = p."Id"
) AS t ON o."Id" = t."OrderId"
WHERE o."UserId" = @__user_Id_0
ORDER BY o."Id", t."Id"
2025-01-21 18:56:03.882 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerceAPI.Application.Features.Queries.Order.GetUserOrders.GetUserOrdersQueryResponse, ECommerceAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 18:56:03.905 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.OrdersController.GetUserOrders (ECommerceAPI.API) in 228.8279ms
2025-01-21 18:56:03.906 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.OrdersController.GetUserOrders (ECommerceAPI.API)'
2025-01-21 18:56:03.907 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/api/orders - - - 200 - application/json;+charset=utf-8 298.8835ms
2025-01-21 20:32:02.850 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 20:32:03.135 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-21 20:32:03.135 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-21 20:32:03.137 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 20:32:03.137 +03:00 [INF] Hosting environment: Development
2025-01-21 20:32:03.138 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-21 20:32:04.010 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-21 20:32:04.288 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 280.2849ms
2025-01-21 20:32:04.310 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-21 20:32:04.310 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-21 20:32:04.310 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-21 20:32:04.320 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 9.7121ms
2025-01-21 20:32:04.346 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 35.7656ms
2025-01-21 20:32:04.378 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 67.6626ms
2025-01-21 20:32:05.484 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-21 20:32:05.686 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 201.4437ms
2025-01-21 20:32:32.704 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68
2025-01-21 20:32:32.725 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 20:32:32.763 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-21 20:32:33.975 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 20:32:34.322 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 20:32:34.411 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-21 20:32:34.428 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-21 20:32:34.446 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 1677.8074ms
2025-01-21 20:32:34.448 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 20:32:34.462 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68 - 200 - application/json;+charset=utf-8 1757.7795ms
2025-01-21 20:32:52.983 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/orders application/json 31
2025-01-21 20:32:53.080 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.OrdersController.CreateOrder (ECommerceAPI.API)'
2025-01-21 20:32:53.085 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerceAPI.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerceAPI.API.Controllers.OrdersController (ECommerceAPI.API).
2025-01-21 20:32:53.242 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."FullName", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."Id0", t."CreatedAt", t."UpdatedAt", t."UserId", t0."Id", t0."BasketId", t0."CreatedAt", t0."ProductId", t0."Quantity", t0."UpdatedAt", t0."Id0", t0."CreatedAt0", t0."Description", t0."Name", t0."Price", t0."Stock", t0."UpdatedAt0"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", b."Id" AS "Id0", b."CreatedAt", b."UpdatedAt", b."UserId"
    FROM "AspNetUsers" AS a
    LEFT JOIN baskets AS b ON a."Id" = b."UserId"
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedAt", b0."ProductId", b0."Quantity", b0."UpdatedAt", p."Id" AS "Id0", p."CreatedAt" AS "CreatedAt0", p."Description", p."Name", p."Price", p."Stock", p."UpdatedAt" AS "UpdatedAt0"
    FROM basket_items AS b0
    INNER JOIN products AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2025-01-21 20:32:53.411 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO orders ("Address", "CreatedAt", "OrderNumber", "Status", "TotalPrice", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2025-01-21 20:32:53.430 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?' (DbType = Decimal), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (DbType = Int32), @p15='?' (DbType = Decimal), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO order_items ("CreatedAt", "OrderId", "Price", "ProductId", "Quantity", "UpdatedAt")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12)
RETURNING "Id";
INSERT INTO order_items ("CreatedAt", "OrderId", "Price", "ProductId", "Quantity", "UpdatedAt")
VALUES (@p13, @p14, @p15, @p16, @p17, @p18)
RETURNING "Id";
2025-01-21 20:32:53.447 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandResponse'.
2025-01-21 20:32:53.449 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.OrdersController.CreateOrder (ECommerceAPI.API) in 361.449ms
2025-01-21 20:32:53.450 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.OrdersController.CreateOrder (ECommerceAPI.API)'
2025-01-21 20:32:53.452 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/orders application/json 31 - 200 - application/json;+charset=utf-8 468.6575ms
2025-01-21 20:33:17.525 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/api/orders - -
2025-01-21 20:33:17.530 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.OrdersController.GetUserOrders (ECommerceAPI.API)'
2025-01-21 20:33:17.534 +03:00 [INF] Route matched with {action = "GetUserOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserOrders(ECommerceAPI.Application.Features.Queries.Order.GetUserOrders.GetUserOrdersQueryRequest) on controller ECommerceAPI.API.Controllers.OrdersController (ECommerceAPI.API).
2025-01-21 20:33:17.556 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 20:33:17.583 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedAt", o."OrderNumber", o."Status", o."TotalPrice", o."UpdatedAt", o."UserId", t."Id", t."CreatedAt", t."OrderId", t."Price", t."ProductId", t."Quantity", t."UpdatedAt", t."Id0", t."CreatedAt0", t."Description", t."Name", t."Price0", t."Stock", t."UpdatedAt0"
FROM orders AS o
LEFT JOIN (
    SELECT o0."Id", o0."CreatedAt", o0."OrderId", o0."Price", o0."ProductId", o0."Quantity", o0."UpdatedAt", p."Id" AS "Id0", p."CreatedAt" AS "CreatedAt0", p."Description", p."Name", p."Price" AS "Price0", p."Stock", p."UpdatedAt" AS "UpdatedAt0"
    FROM order_items AS o0
    INNER JOIN products AS p ON o0."ProductId" = p."Id"
) AS t ON o."Id" = t."OrderId"
WHERE o."UserId" = @__user_Id_0
ORDER BY o."Id", t."Id"
2025-01-21 20:33:17.591 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerceAPI.Application.Features.Queries.Order.GetUserOrders.GetUserOrdersQueryResponse, ECommerceAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:33:17.606 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.OrdersController.GetUserOrders (ECommerceAPI.API) in 69.9821ms
2025-01-21 20:33:17.608 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.OrdersController.GetUserOrders (ECommerceAPI.API)'
2025-01-21 20:33:17.609 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/api/orders - - - 200 - application/json;+charset=utf-8 83.7693ms
2025-01-21 20:43:35.290 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 20:43:35.532 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-21 20:43:35.533 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-21 20:43:35.534 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 20:43:35.535 +03:00 [INF] Hosting environment: Development
2025-01-21 20:43:35.535 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-21 20:43:36.353 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-21 20:43:36.629 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 280.8649ms
2025-01-21 20:43:36.675 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-21 20:43:36.675 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-21 20:43:36.675 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-21 20:43:36.685 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 10.5562ms
2025-01-21 20:43:36.728 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 52.9991ms
2025-01-21 20:43:36.774 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 98.8656ms
2025-01-21 20:43:37.966 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-21 20:43:38.115 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 148.9659ms
2025-01-21 20:43:45.289 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68
2025-01-21 20:43:45.303 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 20:43:45.335 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-21 20:43:46.585 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 20:43:46.934 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 20:43:47.031 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-21 20:43:47.048 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-21 20:43:47.065 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 1723.8514ms
2025-01-21 20:43:47.066 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 20:43:47.075 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68 - 200 - application/json;+charset=utf-8 1786.6339ms
2025-01-21 20:43:56.696 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/api/orders - -
2025-01-21 20:43:57.319 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.OrdersController.GetUserOrders (ECommerceAPI.API)'
2025-01-21 20:43:57.328 +03:00 [INF] Route matched with {action = "GetUserOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserOrders(ECommerceAPI.Application.Features.Queries.Order.GetUserOrders.GetUserOrdersQueryRequest) on controller ECommerceAPI.API.Controllers.OrdersController (ECommerceAPI.API).
2025-01-21 20:43:57.402 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 20:43:57.510 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedAt", o."OrderNumber", o."Status", o."TotalPrice", o."UpdatedAt", o."UserId", t."Id", t."CreatedAt", t."OrderId", t."Price", t."ProductId", t."Quantity", t."UpdatedAt", t."Id0", t."CreatedAt0", t."Description", t."Name", t."Price0", t."Stock", t."UpdatedAt0"
FROM orders AS o
LEFT JOIN (
    SELECT o0."Id", o0."CreatedAt", o0."OrderId", o0."Price", o0."ProductId", o0."Quantity", o0."UpdatedAt", p."Id" AS "Id0", p."CreatedAt" AS "CreatedAt0", p."Description", p."Name", p."Price" AS "Price0", p."Stock", p."UpdatedAt" AS "UpdatedAt0"
    FROM order_items AS o0
    INNER JOIN products AS p ON o0."ProductId" = p."Id"
) AS t ON o."Id" = t."OrderId"
WHERE o."UserId" = @__user_Id_0
ORDER BY o."Id", t."Id"
2025-01-21 20:43:57.570 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerceAPI.Application.Features.Queries.Order.GetUserOrders.GetUserOrdersQueryResponse, ECommerceAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:43:57.582 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.OrdersController.GetUserOrders (ECommerceAPI.API) in 251.4016ms
2025-01-21 20:43:57.583 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.OrdersController.GetUserOrders (ECommerceAPI.API)'
2025-01-21 20:43:57.584 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/api/orders - - - 200 - application/json;+charset=utf-8 888.0858ms
2025-01-21 20:51:59.431 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 20:51:59.708 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-21 20:51:59.710 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-21 20:51:59.712 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 20:51:59.713 +03:00 [INF] Hosting environment: Development
2025-01-21 20:51:59.713 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-21 20:52:00.394 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-21 20:52:00.650 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 258.7716ms
2025-01-21 20:52:00.674 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-21 20:52:00.674 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-21 20:52:00.674 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-21 20:52:00.684 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 9.6211ms
2025-01-21 20:52:00.731 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 56.5506ms
2025-01-21 20:52:00.763 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 88.7801ms
2025-01-21 20:52:01.857 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-21 20:52:01.998 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.6508ms
2025-01-21 20:52:08.547 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68
2025-01-21 20:52:08.562 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 20:52:08.598 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-21 20:52:09.791 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 20:52:10.142 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 20:52:10.239 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-21 20:52:10.258 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-21 20:52:10.274 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 1671.4102ms
2025-01-21 20:52:10.276 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 20:52:10.285 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68 - 200 - application/json;+charset=utf-8 1738.0428ms
2025-01-21 20:52:24.233 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/api/orders/getAll - -
2025-01-21 20:52:24.298 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.OrdersController.GetAllOrders (ECommerceAPI.API)'
2025-01-21 20:52:24.306 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerceAPI.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerceAPI.API.Controllers.OrdersController (ECommerceAPI.API).
2025-01-21 20:52:24.456 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedAt", o."OrderNumber", o."Status", o."TotalPrice", o."UpdatedAt", o."UserId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", t."Id", t."CreatedAt", t."OrderId", t."Price", t."ProductId", t."Quantity", t."UpdatedAt", t."Id0", t."CreatedAt0", t."Description", t."Name", t."Price0", t."Stock", t."UpdatedAt0"
FROM orders AS o
INNER JOIN "AspNetUsers" AS a ON o."UserId" = a."Id"
LEFT JOIN (
    SELECT o0."Id", o0."CreatedAt", o0."OrderId", o0."Price", o0."ProductId", o0."Quantity", o0."UpdatedAt", p."Id" AS "Id0", p."CreatedAt" AS "CreatedAt0", p."Description", p."Name", p."Price" AS "Price0", p."Stock", p."UpdatedAt" AS "UpdatedAt0"
    FROM order_items AS o0
    INNER JOIN products AS p ON o0."ProductId" = p."Id"
) AS t ON o."Id" = t."OrderId"
ORDER BY o."CreatedAt" DESC, o."Id", a."Id", t."Id"
2025-01-21 20:52:24.522 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerceAPI.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse, ECommerceAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:52:24.532 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.OrdersController.GetAllOrders (ECommerceAPI.API) in 224.6367ms
2025-01-21 20:52:24.535 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.OrdersController.GetAllOrders (ECommerceAPI.API)'
2025-01-21 20:52:24.537 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/api/orders/getAll - - - 200 - application/json;+charset=utf-8 304.0546ms
2025-01-21 20:52:34.937 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/api/orders/getAl - -
2025-01-21 20:52:34.940 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/api/orders/getAl - - - 404 0 - 3.1445ms
2025-01-21 20:52:37.349 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7031/api/orders/getAll - -
2025-01-21 20:52:37.353 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.OrdersController.GetAllOrders (ECommerceAPI.API)'
2025-01-21 20:52:37.354 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerceAPI.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerceAPI.API.Controllers.OrdersController (ECommerceAPI.API).
2025-01-21 20:52:37.370 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedAt", o."OrderNumber", o."Status", o."TotalPrice", o."UpdatedAt", o."UserId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", t."Id", t."CreatedAt", t."OrderId", t."Price", t."ProductId", t."Quantity", t."UpdatedAt", t."Id0", t."CreatedAt0", t."Description", t."Name", t."Price0", t."Stock", t."UpdatedAt0"
FROM orders AS o
INNER JOIN "AspNetUsers" AS a ON o."UserId" = a."Id"
LEFT JOIN (
    SELECT o0."Id", o0."CreatedAt", o0."OrderId", o0."Price", o0."ProductId", o0."Quantity", o0."UpdatedAt", p."Id" AS "Id0", p."CreatedAt" AS "CreatedAt0", p."Description", p."Name", p."Price" AS "Price0", p."Stock", p."UpdatedAt" AS "UpdatedAt0"
    FROM order_items AS o0
    INNER JOIN products AS p ON o0."ProductId" = p."Id"
) AS t ON o."Id" = t."OrderId"
ORDER BY o."CreatedAt" DESC, o."Id", a."Id", t."Id"
2025-01-21 20:52:37.373 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerceAPI.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse, ECommerceAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:52:37.374 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.OrdersController.GetAllOrders (ECommerceAPI.API) in 16.9966ms
2025-01-21 20:52:37.375 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.OrdersController.GetAllOrders (ECommerceAPI.API)'
2025-01-21 20:52:37.376 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7031/api/orders/getAll - - - 200 - application/json;+charset=utf-8 26.4011ms
2025-01-21 20:56:59.883 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 20:57:00.107 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-21 20:57:00.109 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-21 20:57:00.110 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 20:57:00.111 +03:00 [INF] Hosting environment: Development
2025-01-21 20:57:00.112 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-21 20:57:00.876 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-21 20:57:01.129 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 256.3251ms
2025-01-21 20:57:01.152 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-21 20:57:01.152 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-21 20:57:01.152 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-21 20:57:01.161 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 9.4310ms
2025-01-21 20:57:01.183 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 30.7805ms
2025-01-21 20:57:01.211 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 59.8092ms
2025-01-21 20:57:02.301 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-21 20:57:02.512 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 211.4929ms
2025-01-21 20:57:04.507 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68
2025-01-21 20:57:04.521 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 20:57:04.544 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-21 20:57:05.957 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 20:57:06.362 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 20:57:06.449 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-21 20:57:06.466 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-21 20:57:06.483 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 1933.2805ms
2025-01-21 20:57:06.485 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 20:57:06.496 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68 - 200 - application/json;+charset=utf-8 1989.5361ms
2025-01-21 20:57:48.245 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7031/api/orders application/json 51
2025-01-21 20:57:48.314 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.OrdersController.UpdateOrderStatus (ECommerceAPI.API)'
2025-01-21 20:57:48.320 +03:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(ECommerceAPI.Application.Features.Commands.Order.UpdateOrderStatus.UpdateOrderStatusCommandRequest) on controller ECommerceAPI.API.Controllers.OrdersController (ECommerceAPI.API).
2025-01-21 20:57:48.337 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 20:57:48.340 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.OrdersController.UpdateOrderStatus (ECommerceAPI.API) in 18.2407ms
2025-01-21 20:57:48.342 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.OrdersController.UpdateOrderStatus (ECommerceAPI.API)'
2025-01-21 20:57:48.344 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7031/api/orders application/json 51 - 400 - application/json;+charset=utf-8 98.9911ms
2025-01-21 21:01:11.797 +03:00 [INF] User profile is available. Using 'C:\Users\asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 21:01:12.031 +03:00 [INF] Now listening on: https://localhost:7031
2025-01-21 21:01:12.032 +03:00 [INF] Now listening on: http://localhost:5026
2025-01-21 21:01:12.033 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 21:01:12.034 +03:00 [INF] Hosting environment: Development
2025-01-21 21:01:12.034 +03:00 [INF] Content root path: C:\Users\asus\OneDrive\Masaüstü\repos\E-Commerce\ECommerceAPI\Presentation\ECommerceAPI.API
2025-01-21 21:01:12.781 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.html - -
2025-01-21 21:01:12.941 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.html - - - 200 - text/html;charset=utf-8 161.6412ms
2025-01-21 21:01:12.970 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_vs/browserLink - -
2025-01-21 21:01:12.970 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - -
2025-01-21 21:01:12.970 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/index.js - -
2025-01-21 21:01:12.983 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/index.js - - - 200 - application/javascript;charset=utf-8 12.6046ms
2025-01-21 21:01:13.011 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 40.1923ms
2025-01-21 21:01:13.044 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 73.4612ms
2025-01-21 21:01:14.222 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - -
2025-01-21 21:01:14.328 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7031/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 105.5818ms
2025-01-21 21:01:16.637 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68
2025-01-21 21:01:16.652 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 21:01:16.674 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2025-01-21 21:01:17.824 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 21:01:18.151 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-01-21 21:01:18.262 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "FullName" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-01-21 21:01:18.282 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2025-01-21 21:01:18.298 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API) in 1620.074ms
2025-01-21 21:01:18.300 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.LoginUser (ECommerceAPI.API)'
2025-01-21 21:01:18.312 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7031/api/users/login application/json 68 - 200 - application/json;+charset=utf-8 1674.4613ms
2025-01-21 21:01:28.516 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7031/api/orders application/json 51
2025-01-21 21:01:28.584 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.OrdersController.UpdateOrderStatus (ECommerceAPI.API)'
2025-01-21 21:01:28.589 +03:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(ECommerceAPI.Application.Features.Commands.Order.UpdateOrderStatus.UpdateOrderStatusCommandRequest) on controller ECommerceAPI.API.Controllers.OrdersController (ECommerceAPI.API).
2025-01-21 21:01:28.654 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedAt", o."OrderNumber", o."Status", o."TotalPrice", o."UpdatedAt", o."UserId"
FROM orders AS o
WHERE o."Id" = @__id_0
LIMIT 1
2025-01-21 21:01:28.699 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE orders SET "Address" = @p0, "CreatedAt" = @p1, "OrderNumber" = @p2, "Status" = @p3, "TotalPrice" = @p4, "UpdatedAt" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2025-01-21 21:01:28.703 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.Order.UpdateOrderStatus.UpdateOrderStatusCommandResponse'.
2025-01-21 21:01:28.705 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.OrdersController.UpdateOrderStatus (ECommerceAPI.API) in 112.7604ms
2025-01-21 21:01:28.706 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.OrdersController.UpdateOrderStatus (ECommerceAPI.API)'
2025-01-21 21:01:28.708 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7031/api/orders application/json 51 - 200 - application/json;+charset=utf-8 191.6430ms
2025-01-21 21:01:40.964 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7031/api/orders application/json 43
2025-01-21 21:01:40.970 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.OrdersController.UpdateOrderStatus (ECommerceAPI.API)'
2025-01-21 21:01:40.971 +03:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(ECommerceAPI.Application.Features.Commands.Order.UpdateOrderStatus.UpdateOrderStatusCommandRequest) on controller ECommerceAPI.API.Controllers.OrdersController (ECommerceAPI.API).
2025-01-21 21:01:40.983 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:01:40.987 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.OrdersController.UpdateOrderStatus (ECommerceAPI.API) in 14.2442ms
2025-01-21 21:01:40.989 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.OrdersController.UpdateOrderStatus (ECommerceAPI.API)'
2025-01-21 21:01:40.990 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7031/api/orders application/json 43 - 400 - application/json;+charset=utf-8 25.3029ms
2025-01-21 21:01:46.368 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7031/api/orders application/json 46
2025-01-21 21:01:46.371 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.OrdersController.UpdateOrderStatus (ECommerceAPI.API)'
2025-01-21 21:01:46.373 +03:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(ECommerceAPI.Application.Features.Commands.Order.UpdateOrderStatus.UpdateOrderStatusCommandRequest) on controller ECommerceAPI.API.Controllers.OrdersController (ECommerceAPI.API).
2025-01-21 21:01:46.375 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:01:46.377 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.OrdersController.UpdateOrderStatus (ECommerceAPI.API) in 2.7212ms
2025-01-21 21:01:46.378 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.OrdersController.UpdateOrderStatus (ECommerceAPI.API)'
2025-01-21 21:01:46.379 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7031/api/orders application/json 46 - 400 - application/json;+charset=utf-8 10.7005ms
2025-01-21 21:01:51.953 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7031/api/orders application/json 50
2025-01-21 21:01:51.954 +03:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.OrdersController.UpdateOrderStatus (ECommerceAPI.API)'
2025-01-21 21:01:51.956 +03:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(ECommerceAPI.Application.Features.Commands.Order.UpdateOrderStatus.UpdateOrderStatusCommandRequest) on controller ECommerceAPI.API.Controllers.OrdersController (ECommerceAPI.API).
2025-01-21 21:01:51.978 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedAt", o."OrderNumber", o."Status", o."TotalPrice", o."UpdatedAt", o."UserId"
FROM orders AS o
WHERE o."Id" = @__id_0
LIMIT 1
2025-01-21 21:01:51.986 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE orders SET "Address" = @p0, "CreatedAt" = @p1, "OrderNumber" = @p2, "Status" = @p3, "TotalPrice" = @p4, "UpdatedAt" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2025-01-21 21:01:51.992 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.Order.UpdateOrderStatus.UpdateOrderStatusCommandResponse'.
2025-01-21 21:01:51.994 +03:00 [INF] Executed action ECommerceAPI.API.Controllers.OrdersController.UpdateOrderStatus (ECommerceAPI.API) in 34.7348ms
2025-01-21 21:01:51.997 +03:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.OrdersController.UpdateOrderStatus (ECommerceAPI.API)'
2025-01-21 21:01:51.999 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7031/api/orders application/json 50 - 200 - application/json;+charset=utf-8 45.9790ms
